{"version":3,"file":"static/js/825.eb420237.chunk.js","mappings":"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","sources":["../node_modules/react-photo-album/dist/index.mjs","../node_modules/yet-another-react-lightbox/dist/index.js","../node_modules/yet-another-react-lightbox/dist/plugins/slideshow/index.js","../node_modules/yet-another-react-lightbox/dist/plugins/thumbnails/index.js","../node_modules/yet-another-react-lightbox/dist/plugins/zoom/index.js","../node_modules/yet-another-react-lightbox/dist/types.js"],"sourcesContent":["\"use client\";\nimport * as React from \"react\";\nfunction ratio({ width, height }) {\n  return width / height;\n}\nfunction round(value, decimals = 0) {\n  const factor = 10 ** decimals;\n  return Math.round((value + Number.EPSILON) * factor) / factor;\n}\nfunction rankingFunctionComparator(rank) {\n  return (a, b) => rank(b) - rank(a);\n}\nclass MinHeap {\n  constructor(comparator) {\n    this.comparator = comparator;\n    this.heap = [];\n    this.n = 0;\n  }\n  greater(i, j) {\n    return this.comparator(this.heap[i], this.heap[j]) < 0;\n  }\n  swap(i, j) {\n    const temp = this.heap[i];\n    this.heap[i] = this.heap[j];\n    this.heap[j] = temp;\n  }\n  swim(i) {\n    let k = i;\n    let k2 = Math.floor(k / 2);\n    while (k > 1 && this.greater(k2, k)) {\n      this.swap(k2, k);\n      k = k2;\n      k2 = Math.floor(k / 2);\n    }\n  }\n  sink(i) {\n    let k = i;\n    let k2 = k * 2;\n    while (k2 <= this.n) {\n      if (k2 < this.n && this.greater(k2, k2 + 1))\n        k2 += 1;\n      if (!this.greater(k, k2))\n        break;\n      this.swap(k, k2);\n      k = k2;\n      k2 = k * 2;\n    }\n  }\n  push(element) {\n    this.n += 1;\n    this.heap[this.n] = element;\n    this.swim(this.n);\n  }\n  pop() {\n    if (this.n === 0)\n      return void 0;\n    this.swap(1, this.n);\n    this.n -= 1;\n    const max = this.heap.pop();\n    this.sink(1);\n    return max;\n  }\n  size() {\n    return this.n;\n  }\n}\nfunction buildPrecedentsMap(graph, startNode, endNode) {\n  const precedentsMap = /* @__PURE__ */ new Map();\n  const visited = /* @__PURE__ */ new Set();\n  const storedShortestPaths = /* @__PURE__ */ new Map();\n  storedShortestPaths.set(startNode, 0);\n  const queue = new MinHeap(rankingFunctionComparator((el) => el.weight));\n  queue.push({ id: startNode, weight: 0 });\n  while (queue.size() > 0) {\n    const { id, weight } = queue.pop();\n    if (!visited.has(id)) {\n      const neighboringNodes = graph(id);\n      visited.add(id);\n      neighboringNodes.forEach((neighborWeight, neighbor) => {\n        const newWeight = weight + neighborWeight;\n        const currentId = precedentsMap.get(neighbor);\n        const currentWeight = storedShortestPaths.get(neighbor);\n        if (currentWeight === void 0 || currentWeight > newWeight && (currentWeight / newWeight > 1.005 || currentId !== void 0 && currentId < id)) {\n          storedShortestPaths.set(neighbor, newWeight);\n          queue.push({ id: neighbor, weight: newWeight });\n          precedentsMap.set(neighbor, id);\n        }\n      });\n    }\n  }\n  return storedShortestPaths.has(endNode) ? precedentsMap : void 0;\n}\nfunction getPathFromPrecedentsMap(precedentsMap, endNode) {\n  const nodes = [];\n  for (let node = endNode; node !== void 0; node = precedentsMap.get(node)) {\n    nodes.push(node);\n  }\n  return nodes.reverse();\n}\nfunction findShortestPath(graph, startNode, endNode) {\n  const precedentsMap = buildPrecedentsMap(graph, startNode, endNode);\n  return precedentsMap ? getPathFromPrecedentsMap(precedentsMap, endNode) : void 0;\n}\nfunction findIdealNodeSearch({\n  photos,\n  targetRowHeight,\n  containerWidth\n}) {\n  const minRatio = photos.reduce((acc, photo) => Math.min(ratio(photo), acc), Number.MAX_VALUE);\n  return round(containerWidth / targetRowHeight / minRatio) + 2;\n}\nfunction getCommonHeight(row, containerWidth, spacing, padding) {\n  const rowWidth = containerWidth - (row.length - 1) * spacing - 2 * padding * row.length;\n  const totalAspectRatio = row.reduce((acc, photo) => acc + ratio(photo), 0);\n  return rowWidth / totalAspectRatio;\n}\nfunction cost(photos, i, j, width, targetRowHeight, spacing, padding) {\n  const row = photos.slice(i, j);\n  const commonHeight = getCommonHeight(row, width, spacing, padding);\n  return commonHeight > 0 ? (commonHeight - targetRowHeight) ** 2 * row.length : void 0;\n}\nfunction makeGetRowNeighbors({\n  photos,\n  layoutOptions,\n  targetRowHeight,\n  limitNodeSearch,\n  rowConstraints\n}) {\n  return (node) => {\n    var _a, _b;\n    const { containerWidth, spacing, padding } = layoutOptions;\n    const results = /* @__PURE__ */ new Map();\n    results.set(node, 0);\n    const startOffset = (_a = rowConstraints == null ? void 0 : rowConstraints.minPhotos) != null ? _a : 1;\n    const endOffset = Math.min(limitNodeSearch, (_b = rowConstraints == null ? void 0 : rowConstraints.maxPhotos) != null ? _b : Infinity);\n    for (let i = node + startOffset; i < photos.length + 1; i += 1) {\n      if (i - node > endOffset)\n        break;\n      const currentCost = cost(photos, node, i, containerWidth, targetRowHeight, spacing, padding);\n      if (currentCost === void 0)\n        break;\n      results.set(i, currentCost);\n    }\n    return results;\n  };\n}\nfunction computeRowsLayout({\n  photos,\n  layoutOptions\n}) {\n  const { spacing, padding, containerWidth, targetRowHeight, rowConstraints } = layoutOptions;\n  const limitNodeSearch = findIdealNodeSearch({ photos, containerWidth, targetRowHeight });\n  const getNeighbors = makeGetRowNeighbors({\n    photos,\n    layoutOptions,\n    targetRowHeight,\n    limitNodeSearch,\n    rowConstraints\n  });\n  const path = findShortestPath(getNeighbors, 0, photos.length);\n  if (path === void 0)\n    return void 0;\n  const layout = [];\n  for (let i = 1; i < path.length; i += 1) {\n    const row = photos.map((photo, index) => ({ photo, index })).slice(path[i - 1], path[i]);\n    const height = getCommonHeight(\n      row.map(({ photo }) => photo),\n      containerWidth,\n      spacing,\n      padding\n    );\n    layout.push(\n      row.map(({ photo, index }, photoIndex) => ({\n        photo,\n        layout: {\n          height,\n          width: height * ratio(photo),\n          index,\n          photoIndex,\n          photosCount: row.length\n        }\n      }))\n    );\n  }\n  return layout;\n}\nfunction clsx(...classes) {\n  return [...classes].filter((cls) => Boolean(cls)).join(\" \");\n}\nfunction calcWidth(base, { width, photosCount }, { spacing, padding, containerWidth }) {\n  const gaps = spacing * (photosCount - 1) + 2 * padding * photosCount;\n  return `calc((${base} - ${gaps}px) / ${round((containerWidth - gaps) / width, 5)})`;\n}\nfunction cssPhotoWidth(layout, layoutOptions) {\n  return layoutOptions.layout !== \"rows\" ? `calc(100% - ${2 * layoutOptions.padding}px)` : calcWidth(\"100%\", layout, layoutOptions);\n}\nfunction calculateSizesValue(size, layout, layoutOptions) {\n  var _a, _b;\n  return calcWidth((_b = (_a = size.match(/^\\s*calc\\((.*)\\)\\s*$/)) == null ? void 0 : _a[1]) != null ? _b : size, layout, layoutOptions);\n}\nfunction srcSetAndSizes(photo, layout, layoutOptions) {\n  let srcSet;\n  let sizes;\n  const images = photo.srcSet || photo.images;\n  if (images && images.length > 0) {\n    srcSet = images.concat(\n      !images.find(({ width }) => width === photo.width) ? [{ src: photo.src, width: photo.width, height: photo.height }] : []\n    ).sort((first, second) => first.width - second.width).map((image) => `${image.src} ${image.width}w`).join(\", \");\n  }\n  if (layoutOptions.sizes) {\n    sizes = (layoutOptions.sizes.sizes || []).map(({ viewport, size }) => `${viewport} ${calculateSizesValue(size, layout, layoutOptions)}`).concat(calculateSizesValue(layoutOptions.sizes.size, layout, layoutOptions)).join(\", \");\n  } else if (srcSet) {\n    sizes = `${Math.ceil(layout.width / layoutOptions.containerWidth * 100)}vw`;\n  }\n  return { srcSet, sizes };\n}\nfunction PhotoRenderer(props) {\n  var _a, _b;\n  const { photo, layout, layoutOptions, imageProps: { style, className, ...restImageProps } = {}, renderPhoto } = props;\n  const { onClick } = layoutOptions;\n  const imageStyle = {\n    display: \"block\",\n    boxSizing: \"content-box\",\n    width: cssPhotoWidth(layout, layoutOptions),\n    height: \"auto\",\n    aspectRatio: `${photo.width} / ${photo.height}`,\n    ...layoutOptions.padding ? { padding: `${layoutOptions.padding}px` } : null,\n    ...(layoutOptions.layout === \"columns\" || layoutOptions.layout === \"masonry\") && layout.photoIndex < layout.photosCount - 1 ? { marginBottom: `${layoutOptions.spacing}px` } : null,\n    ...onClick ? { cursor: \"pointer\" } : null,\n    ...style\n  };\n  const handleClick = onClick ? (event) => {\n    onClick({ event, photo, index: layout.index });\n  } : void 0;\n  const imageProps = {\n    src: photo.src,\n    alt: (_a = photo.alt) != null ? _a : \"\",\n    title: photo.title,\n    onClick: handleClick,\n    style: imageStyle,\n    className: clsx(\"react-photo-album--photo\", className),\n    loading: \"lazy\",\n    decoding: \"async\",\n    ...srcSetAndSizes(photo, layout, layoutOptions),\n    ...restImageProps\n  };\n  const renderDefaultPhoto = (options) => {\n    const { src, alt, srcSet, sizes, style: unwrappedStyle, ...rest } = imageProps;\n    return React.createElement(\n      \"img\",\n      {\n        alt,\n        ...srcSet ? { srcSet, sizes } : null,\n        src,\n        style: (options == null ? void 0 : options.wrapped) ? { display: \"block\", width: \"100%\", height: \"100%\" } : unwrappedStyle,\n        ...rest\n      }\n    );\n  };\n  const wrapperStyle = (({ display, boxSizing, width, aspectRatio, padding, marginBottom, cursor }) => ({\n    display,\n    boxSizing,\n    width,\n    aspectRatio,\n    padding,\n    marginBottom,\n    cursor\n  }))(imageStyle);\n  return React.createElement(React.Fragment, null, (_b = renderPhoto == null ? void 0 : renderPhoto({\n    photo,\n    layout,\n    layoutOptions,\n    imageProps,\n    renderDefaultPhoto,\n    wrapperStyle\n  })) != null ? _b : renderDefaultPhoto());\n}\nfunction defaultRenderRowContainer({\n  rowContainerProps,\n  children\n}) {\n  return React.createElement(\"div\", { ...rowContainerProps }, children);\n}\nfunction RowContainerRenderer(props) {\n  const {\n    layoutOptions,\n    rowIndex,\n    rowsCount,\n    renderRowContainer,\n    rowContainerProps: { style, className, ...restRowContainerProps } = {},\n    children\n  } = props;\n  const rowContainerProps = {\n    className: clsx(\"react-photo-album--row\", className),\n    style: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      flexWrap: \"nowrap\",\n      alignItems: \"flex-start\",\n      justifyContent: \"space-between\",\n      ...rowIndex < rowsCount - 1 ? { marginBottom: `${layoutOptions.spacing}px` } : null,\n      ...style\n    },\n    ...restRowContainerProps\n  };\n  return React.createElement(React.Fragment, null, (renderRowContainer != null ? renderRowContainer : defaultRenderRowContainer)({\n    layoutOptions,\n    rowIndex,\n    rowsCount,\n    rowContainerProps,\n    children\n  }));\n}\nfunction RowsLayout(props) {\n  const {\n    photos,\n    layoutOptions,\n    renderPhoto,\n    renderRowContainer,\n    componentsProps: { imageProps, rowContainerProps }\n  } = props;\n  const rowsLayout = computeRowsLayout({ photos, layoutOptions });\n  if (!rowsLayout)\n    return null;\n  return React.createElement(React.Fragment, null, rowsLayout.map((row, rowIndex) => React.createElement(\n    RowContainerRenderer,\n    {\n      key: `row-${rowIndex}`,\n      layoutOptions,\n      rowIndex,\n      rowsCount: rowsLayout.length,\n      renderRowContainer,\n      rowContainerProps\n    },\n    row.map(({ photo, layout }) => React.createElement(\n      PhotoRenderer,\n      {\n        key: photo.key || photo.src,\n        photo,\n        layout,\n        layoutOptions,\n        renderPhoto,\n        imageProps\n      }\n    ))\n  )));\n}\nfunction computeShortestPath(graph, pathLength, startNode, endNode) {\n  const matrix = /* @__PURE__ */ new Map();\n  const queue = /* @__PURE__ */ new Set();\n  queue.add(startNode);\n  for (let length = 0; length < pathLength; length += 1) {\n    const currentQueue = [...queue.keys()];\n    queue.clear();\n    currentQueue.forEach((node) => {\n      const accumulatedWeight = length > 0 ? matrix.get(node)[length].weight : 0;\n      graph(node).forEach(({ neighbor, weight }) => {\n        let paths = matrix.get(neighbor);\n        if (!paths) {\n          paths = [];\n          matrix.set(neighbor, paths);\n        }\n        const newWeight = accumulatedWeight + weight;\n        const nextPath = paths[length + 1];\n        if (!nextPath || nextPath.weight > newWeight && (nextPath.weight / newWeight > 1.0001 || node < nextPath.node)) {\n          paths[length + 1] = { node, weight: newWeight };\n        }\n        if (length < pathLength - 1 && neighbor !== endNode) {\n          queue.add(neighbor);\n        }\n      });\n    });\n  }\n  return matrix;\n}\nfunction reconstructShortestPath(matrix, pathLength, endNode) {\n  const path = [endNode];\n  for (let node = endNode, length = pathLength; length > 0; length -= 1) {\n    node = matrix.get(node)[length].node;\n    path.push(node);\n  }\n  return path.reverse();\n}\nfunction findShortestPathLengthN(graph, pathLength, startNode, endNode) {\n  return reconstructShortestPath(computeShortestPath(graph, pathLength, startNode, endNode), pathLength, endNode);\n}\nfunction makeGetColumnNeighbors({\n  photos,\n  spacing,\n  padding,\n  targetColumnWidth,\n  targetColumnHeight\n}) {\n  return (node) => {\n    const results = [];\n    const cutOffHeight = targetColumnHeight * 1.5;\n    let height = targetColumnWidth / ratio(photos[node]) + 2 * padding;\n    for (let i = node + 1; i < photos.length + 1; i += 1) {\n      results.push({ neighbor: i, weight: (targetColumnHeight - height) ** 2 });\n      if (height > cutOffHeight || i === photos.length) {\n        break;\n      }\n      height += targetColumnWidth / ratio(photos[i]) + spacing + 2 * padding;\n    }\n    return results;\n  };\n}\nfunction buildColumnsModel({\n  path,\n  photos,\n  containerWidth,\n  columnsGaps,\n  columnsRatios,\n  spacing,\n  padding\n}) {\n  const columnsModel = [];\n  const totalRatio = columnsRatios.reduce((total, columnRatio) => total + columnRatio, 0);\n  for (let i = 0; i < path.length - 1; i += 1) {\n    const column = photos.map((photo, index) => ({ photo, index })).slice(path[i], path[i + 1]);\n    const totalAdjustedGaps = columnsRatios.reduce(\n      (total, columnRatio, index) => total + (columnsGaps[i] - columnsGaps[index]) * columnRatio,\n      0\n    );\n    const columnWidth = (containerWidth - (path.length - 2) * spacing - 2 * (path.length - 1) * padding - totalAdjustedGaps) * columnsRatios[i] / totalRatio;\n    columnsModel.push(\n      column.map(({ photo, index }, photoIndex) => ({\n        photo,\n        layout: {\n          width: columnWidth,\n          height: columnWidth / ratio(photo),\n          index,\n          photoIndex,\n          photosCount: column.length\n        }\n      }))\n    );\n  }\n  return columnsModel;\n}\nfunction computeColumnsModel({\n  photos,\n  layoutOptions,\n  targetColumnWidth\n}) {\n  const { columns, spacing, padding, containerWidth } = layoutOptions;\n  const columnsGaps = [];\n  const columnsRatios = [];\n  if (photos.length <= columns) {\n    const averageRatio = photos.length > 0 ? photos.reduce((acc, photo) => acc + ratio(photo), 0) / photos.length : 1;\n    for (let i = 0; i < columns; i += 1) {\n      columnsGaps[i] = 2 * padding;\n      columnsRatios[i] = i < photos.length ? ratio(photos[i]) : averageRatio;\n    }\n    const columnsModel2 = buildColumnsModel({\n      path: Array.from({ length: columns + 1 }).map((_, index) => Math.min(index, photos.length)),\n      photos,\n      columnsRatios,\n      columnsGaps,\n      containerWidth,\n      spacing,\n      padding\n    });\n    return { columnsGaps, columnsRatios, columnsModel: columnsModel2 };\n  }\n  const targetColumnHeight = (photos.reduce((acc, photo) => acc + targetColumnWidth / ratio(photo), 0) + spacing * (photos.length - columns) + 2 * padding * photos.length) / columns;\n  const getNeighbors = makeGetColumnNeighbors({\n    photos,\n    targetColumnWidth,\n    targetColumnHeight,\n    spacing,\n    padding\n  });\n  const path = findShortestPathLengthN(getNeighbors, columns, 0, photos.length);\n  for (let i = 0; i < path.length - 1; i += 1) {\n    const column = photos.slice(path[i], path[i + 1]);\n    columnsGaps[i] = spacing * (column.length - 1) + 2 * padding * column.length;\n    columnsRatios[i] = 1 / column.reduce((acc, photo) => acc + 1 / ratio(photo), 0);\n  }\n  const columnsModel = buildColumnsModel({\n    path,\n    photos,\n    columnsRatios,\n    columnsGaps,\n    containerWidth,\n    spacing,\n    padding\n  });\n  return { columnsGaps, columnsRatios, columnsModel };\n}\nfunction computeLayout(props) {\n  const { photos, layoutOptions } = props;\n  const { columns, spacing, padding, containerWidth } = layoutOptions;\n  const targetColumnWidth = (containerWidth - spacing * (columns - 1) - 2 * padding * columns) / columns;\n  const { columnsGaps, columnsRatios, columnsModel } = computeColumnsModel({\n    photos,\n    layoutOptions,\n    targetColumnWidth\n  });\n  if (columnsModel.findIndex(\n    (columnModel) => columnModel.findIndex(({ layout: { width, height } }) => width < 0 || height < 0) >= 0\n  ) >= 0) {\n    if (columns > 1) {\n      return computeLayout({ photos, layoutOptions: { ...layoutOptions, columns: columns - 1 } });\n    }\n    return void 0;\n  }\n  return { columnsModel, columnsGaps, columnsRatios };\n}\nfunction computeColumnsLayout({\n  photos,\n  layoutOptions\n}) {\n  return computeLayout({ photos, layoutOptions });\n}\nfunction defaultRenderColumnContainer({\n  columnContainerProps,\n  children\n}) {\n  return React.createElement(\"div\", { ...columnContainerProps }, children);\n}\nfunction cssColumnWidth(props) {\n  const { layoutOptions, columnIndex, columnsCount, columnsGaps, columnsRatios } = props;\n  const { layout, spacing, padding } = layoutOptions;\n  if (layout === \"masonry\" || !columnsGaps || !columnsRatios) {\n    return `calc((100% - ${spacing * (columnsCount - 1)}px) / ${columnsCount})`;\n  }\n  const totalRatio = columnsRatios.reduce((acc, ratio2) => acc + ratio2, 0);\n  const totalAdjustedGaps = columnsRatios.reduce(\n    (acc, ratio2, index) => acc + (columnsGaps[columnIndex] - columnsGaps[index]) * ratio2,\n    0\n  );\n  return `calc((100% - ${round(\n    (columnsCount - 1) * spacing + 2 * columnsCount * padding + totalAdjustedGaps,\n    3\n  )}px) * ${round(columnsRatios[columnIndex] / totalRatio, 5)} + ${2 * padding}px)`;\n}\nfunction ColumnContainerRenderer(props) {\n  const {\n    layoutOptions,\n    renderColumnContainer,\n    children,\n    columnContainerProps: { style, className, ...restColumnContainerProps } = {},\n    ...rest\n  } = props;\n  const columnContainerProps = {\n    className: clsx(\"react-photo-album--column\", className),\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      flexWrap: \"nowrap\",\n      alignItems: \"flex-start\",\n      width: cssColumnWidth(props),\n      justifyContent: layoutOptions.layout === \"columns\" ? \"space-between\" : \"flex-start\",\n      ...style\n    },\n    ...restColumnContainerProps\n  };\n  return React.createElement(React.Fragment, null, (renderColumnContainer != null ? renderColumnContainer : defaultRenderColumnContainer)({\n    layoutOptions,\n    columnContainerProps,\n    children,\n    ...rest\n  }));\n}\nfunction ColumnsLayout(props) {\n  const {\n    photos,\n    layoutOptions,\n    renderPhoto,\n    renderColumnContainer,\n    componentsProps: { imageProps, columnContainerProps }\n  } = props;\n  const columnsLayout = computeColumnsLayout({ photos, layoutOptions });\n  if (!columnsLayout)\n    return null;\n  const { columnsModel, columnsRatios, columnsGaps } = columnsLayout;\n  return React.createElement(React.Fragment, null, columnsModel.map((column, columnIndex) => React.createElement(\n    ColumnContainerRenderer,\n    {\n      key: `column-${columnIndex}`,\n      layoutOptions,\n      columnIndex,\n      columnsCount: columnsModel.length,\n      columnsGaps,\n      columnsRatios,\n      renderColumnContainer,\n      columnContainerProps\n    },\n    column.map(({ photo, layout }) => React.createElement(\n      PhotoRenderer,\n      {\n        key: photo.key || photo.src,\n        photo,\n        layout,\n        layoutOptions,\n        renderPhoto,\n        imageProps\n      }\n    ))\n  )));\n}\nfunction computeMasonryLayout(props) {\n  const { photos, layoutOptions } = props;\n  const { columns, spacing, padding, containerWidth } = layoutOptions;\n  const columnWidth = (containerWidth - spacing * (columns - 1) - 2 * padding * columns) / columns;\n  if (columnWidth <= 0) {\n    return columns > 1 ? computeMasonryLayout({\n      ...props,\n      layoutOptions: { ...layoutOptions, columns: columns - 1 }\n    }) : void 0;\n  }\n  const columnsCurrentTopPositions = [];\n  for (let i = 0; i < columns; i += 1) {\n    columnsCurrentTopPositions[i] = 0;\n  }\n  const columnsModel = photos.reduce(\n    (model, photo, index) => {\n      const shortestColumn = columnsCurrentTopPositions.reduce(\n        (currentShortestColumn, item, i) => item < columnsCurrentTopPositions[currentShortestColumn] - 1 ? i : currentShortestColumn,\n        0\n      );\n      columnsCurrentTopPositions[shortestColumn] = columnsCurrentTopPositions[shortestColumn] + columnWidth / ratio(photo) + spacing + 2 * padding;\n      model[shortestColumn].push({ photo, index });\n      return model;\n    },\n    Array.from({ length: columns }).map(() => [])\n  );\n  return columnsModel.map(\n    (column) => column.map(({ photo, index }, photoIndex) => ({\n      photo,\n      layout: {\n        width: columnWidth,\n        height: columnWidth / ratio(photo),\n        index,\n        photoIndex,\n        photosCount: column.length\n      }\n    }))\n  );\n}\nfunction MasonryLayout(props) {\n  const {\n    photos,\n    layoutOptions,\n    renderPhoto,\n    renderColumnContainer,\n    componentsProps: { imageProps, columnContainerProps }\n  } = props;\n  const masonryLayout = computeMasonryLayout({ photos, layoutOptions });\n  if (!masonryLayout)\n    return null;\n  return React.createElement(React.Fragment, null, masonryLayout.map((column, columnIndex) => React.createElement(\n    ColumnContainerRenderer,\n    {\n      key: `masonry-column-${columnIndex}`,\n      layoutOptions,\n      columnsCount: masonryLayout.length,\n      columnIndex,\n      renderColumnContainer,\n      columnContainerProps\n    },\n    column.map(({ photo, layout }) => React.createElement(\n      PhotoRenderer,\n      {\n        key: photo.key || photo.src,\n        photo,\n        layout,\n        layoutOptions,\n        renderPhoto,\n        imageProps\n      }\n    ))\n  )));\n}\nfunction defaultRenderContainer({ containerProps, children, containerRef }) {\n  return React.createElement(\"div\", { ref: containerRef, ...containerProps }, children);\n}\nfunction ContainerRenderer(props) {\n  const {\n    layout,\n    renderContainer,\n    children,\n    containerRef,\n    containerProps: { style, className, ...restContainerProps } = {}\n  } = props;\n  const containerProps = {\n    className: clsx(\"react-photo-album\", `react-photo-album--${layout}`, className),\n    style: {\n      display: \"flex\",\n      flexWrap: \"nowrap\",\n      justifyContent: \"space-between\",\n      flexDirection: layout === \"rows\" ? \"column\" : \"row\",\n      ...style\n    },\n    ...restContainerProps\n  };\n  return React.createElement(React.Fragment, null, (renderContainer != null ? renderContainer : defaultRenderContainer)({\n    containerProps,\n    containerRef,\n    layout,\n    children\n  }));\n}\nfunction useArray(array) {\n  const ref = React.useRef(array);\n  if (!array || !ref.current || array.join() !== ref.current.join()) {\n    ref.current = array;\n  }\n  return ref.current;\n}\nfunction containerWidthReducer(state, { newContainerWidth, newScrollbarWidth }) {\n  const { containerWidth, scrollbarWidth } = state;\n  if (containerWidth !== void 0 && scrollbarWidth !== void 0 && newContainerWidth !== void 0 && newScrollbarWidth !== void 0 && newContainerWidth > containerWidth && newContainerWidth - containerWidth <= 20 && newScrollbarWidth < scrollbarWidth) {\n    return { containerWidth, scrollbarWidth: newScrollbarWidth };\n  }\n  return containerWidth !== newContainerWidth || scrollbarWidth !== newScrollbarWidth ? { containerWidth: newContainerWidth, scrollbarWidth: newScrollbarWidth } : state;\n}\nfunction resolveContainerWidth(el, breakpoints2) {\n  let width = el == null ? void 0 : el.clientWidth;\n  if (width !== void 0 && breakpoints2 && breakpoints2.length > 0) {\n    const sorted = [...breakpoints2.filter((x) => x > 0)].sort((a, b) => b - a);\n    sorted.push(Math.floor(sorted[sorted.length - 1] / 2));\n    const threshold = width;\n    width = sorted.find((breakpoint, index) => breakpoint <= threshold || index === sorted.length - 1);\n  }\n  return width;\n}\nfunction useContainerWidth(breakpoints2, defaultContainerWidth) {\n  const [{ containerWidth }, dispatch] = React.useReducer(containerWidthReducer, {\n    containerWidth: defaultContainerWidth\n  });\n  const ref = React.useRef(null);\n  const observerRef = React.useRef();\n  const containerRef = React.useCallback(\n    (node) => {\n      var _a;\n      (_a = observerRef.current) == null ? void 0 : _a.disconnect();\n      observerRef.current = void 0;\n      ref.current = node;\n      const updateWidth = () => dispatch({\n        newContainerWidth: resolveContainerWidth(ref.current, breakpoints2),\n        newScrollbarWidth: window.innerWidth - document.documentElement.clientWidth\n      });\n      updateWidth();\n      if (node && typeof ResizeObserver !== \"undefined\") {\n        observerRef.current = new ResizeObserver(updateWidth);\n        observerRef.current.observe(node);\n      }\n    },\n    [breakpoints2]\n  );\n  return { containerRef, containerWidth };\n}\nconst breakpoints = Object.freeze([1200, 600, 300, 0]);\nfunction unwrap(value, arg) {\n  return typeof value === \"function\" ? value(arg) : value;\n}\nfunction unwrapParameter(value, containerWidth) {\n  return typeof value !== \"undefined\" ? unwrap(value, containerWidth) : void 0;\n}\nfunction selectResponsiveValue(values, containerWidth) {\n  const index = breakpoints.findIndex((breakpoint) => breakpoint <= containerWidth);\n  return unwrap(values[index >= 0 ? index : 0], containerWidth);\n}\nfunction resolveResponsiveParameter(parameter, containerWidth, values, minValue = 0) {\n  const value = unwrapParameter(parameter, containerWidth);\n  return Math.round(Math.max(value === void 0 ? selectResponsiveValue(values, containerWidth) : value, minValue));\n}\nfunction resolveLayoutOptions({\n  layout,\n  onClick,\n  containerWidth,\n  targetRowHeight,\n  rowConstraints,\n  columns,\n  spacing,\n  padding,\n  sizes\n}) {\n  return {\n    layout,\n    onClick,\n    containerWidth,\n    columns: resolveResponsiveParameter(columns, containerWidth, [5, 4, 3, 2], 1),\n    spacing: resolveResponsiveParameter(spacing, containerWidth, [20, 15, 10, 5]),\n    padding: resolveResponsiveParameter(padding, containerWidth, [0, 0, 0, 0, 0]),\n    targetRowHeight: resolveResponsiveParameter(targetRowHeight, containerWidth, [\n      (w) => w / 5,\n      (w) => w / 4,\n      (w) => w / 3,\n      (w) => w / 2\n    ]),\n    rowConstraints: unwrapParameter(rowConstraints, containerWidth),\n    sizes\n  };\n}\nfunction resolveComponentsProps(props, containerWidth, layoutOptions) {\n  const { photos, componentsProps: componentsPropsProp } = props;\n  const componentsProps = unwrap(componentsPropsProp, containerWidth) || {};\n  if (layoutOptions) {\n    const { layout, spacing, padding, rowConstraints } = layoutOptions;\n    if (layout === \"rows\") {\n      const { singleRowMaxHeight } = rowConstraints || {};\n      if (singleRowMaxHeight) {\n        const maxWidth = Math.floor(\n          photos.reduce(\n            (acc, { width, height }) => acc + width / height * singleRowMaxHeight - 2 * padding,\n            padding * photos.length * 2 + spacing * (photos.length - 1)\n          )\n        );\n        if (maxWidth > 0) {\n          componentsProps.containerProps = componentsProps.containerProps || {};\n          componentsProps.containerProps.style = { maxWidth, ...componentsProps.containerProps.style };\n        }\n      }\n    }\n  }\n  return componentsProps;\n}\nfunction renderLayout(props, componentsProps, layoutOptions) {\n  const { photos, layout, renderPhoto, renderRowContainer, renderColumnContainer } = props;\n  const commonLayoutProps = { photos, renderPhoto, componentsProps };\n  if (layout === \"rows\") {\n    return React.createElement(\n      RowsLayout,\n      {\n        layoutOptions,\n        renderRowContainer,\n        ...commonLayoutProps\n      }\n    );\n  }\n  if (layout === \"columns\") {\n    return React.createElement(\n      ColumnsLayout,\n      {\n        layoutOptions,\n        renderColumnContainer,\n        ...commonLayoutProps\n      }\n    );\n  }\n  return React.createElement(\n    MasonryLayout,\n    {\n      layoutOptions,\n      renderColumnContainer,\n      ...commonLayoutProps\n    }\n  );\n}\nfunction PhotoAlbum(props) {\n  const { photos, layout, renderContainer, defaultContainerWidth, breakpoints: breakpoints2 } = props;\n  const { containerRef, containerWidth } = useContainerWidth(useArray(breakpoints2), defaultContainerWidth);\n  if (!layout || ![\"rows\", \"columns\", \"masonry\"].includes(layout) || !Array.isArray(photos))\n    return null;\n  const layoutOptions = containerWidth ? resolveLayoutOptions({ containerWidth, ...props }) : void 0;\n  const componentsProps = resolveComponentsProps(props, containerWidth, layoutOptions);\n  return React.createElement(\n    ContainerRenderer,\n    {\n      layout,\n      containerRef,\n      renderContainer,\n      containerProps: componentsProps.containerProps\n    },\n    layoutOptions && renderLayout(props, componentsProps, layoutOptions)\n  );\n}\nexport {\n  PhotoAlbum,\n  PhotoAlbum as default\n};\n","'use client';\nimport * as React from 'react';\nimport { IMAGE_FIT_COVER, IMAGE_FIT_CONTAIN, ACTION_CLOSE, MODULE_CONTROLLER, UNKNOWN_ACTION_TYPE, ELEMENT_BUTTON, ELEMENT_ICON, EVENT_ON_POINTER_DOWN, EVENT_ON_POINTER_MOVE, EVENT_ON_POINTER_UP, EVENT_ON_POINTER_LEAVE, EVENT_ON_POINTER_CANCEL, EVENT_ON_KEY_DOWN, EVENT_ON_KEY_UP, EVENT_ON_WHEEL, SLIDE_STATUS_LOADING, activeSlideStatus, SLIDE_STATUS_COMPLETE, SLIDE_STATUS_ERROR, SLIDE_STATUS_PLACEHOLDER, ACTION_PREV, ACTION_NEXT, ACTION_SWIPE, MODULE_PORTAL, CLASS_FLEX_CENTER, MODULE_CAROUSEL, CLASS_SLIDE_WRAPPER, VK_ARROW_RIGHT, VK_ARROW_LEFT, VK_ESCAPE, MODULE_NAVIGATION, CLASS_NO_SCROLL, CLASS_NO_SCROLL_PADDING, MODULE_NO_SCROLL, MODULE_ROOT, MODULE_TOOLBAR } from './types.js';\nimport { createPortal } from 'react-dom';\nexport { ACTIVE_SLIDE_COMPLETE, ACTIVE_SLIDE_ERROR, ACTIVE_SLIDE_LOADING, ACTIVE_SLIDE_PLAYING, CLASS_FULLSIZE, PLUGIN_CAPTIONS, PLUGIN_COUNTER, PLUGIN_DOWNLOAD, PLUGIN_FULLSCREEN, PLUGIN_INLINE, PLUGIN_SHARE, PLUGIN_SLIDESHOW, PLUGIN_THUMBNAILS, PLUGIN_ZOOM, SLIDE_STATUS_PLAYING } from './types.js';\n\nconst cssPrefix$3 = \"yarl__\";\nfunction clsx(...classes) {\n    return [...classes].filter(Boolean).join(\" \");\n}\nfunction cssClass(name) {\n    return `${cssPrefix$3}${name}`;\n}\nfunction cssVar(name) {\n    return `--${cssPrefix$3}${name}`;\n}\nfunction composePrefix(base, prefix) {\n    return `${base}${prefix ? `_${prefix}` : \"\"}`;\n}\nfunction makeComposePrefix(base) {\n    return (prefix) => composePrefix(base, prefix);\n}\nfunction label(labels, defaultLabel) {\n    var _a;\n    return (_a = labels === null || labels === void 0 ? void 0 : labels[defaultLabel]) !== null && _a !== void 0 ? _a : defaultLabel;\n}\nfunction cleanup(...cleaners) {\n    return () => {\n        cleaners.forEach((cleaner) => {\n            cleaner();\n        });\n    };\n}\nfunction makeUseContext(name, contextName, context) {\n    return () => {\n        const ctx = React.useContext(context);\n        if (!ctx) {\n            throw new Error(`${name} must be used within a ${contextName}.Provider`);\n        }\n        return ctx;\n    };\n}\nfunction hasWindow() {\n    return typeof window !== \"undefined\";\n}\nfunction round(value, decimals = 0) {\n    const factor = 10 ** decimals;\n    return Math.round((value + Number.EPSILON) * factor) / factor;\n}\nfunction isImageSlide(slide) {\n    return slide.type === undefined || slide.type === \"image\";\n}\nfunction isImageFitCover(image, imageFit) {\n    return image.imageFit === IMAGE_FIT_COVER || (image.imageFit !== IMAGE_FIT_CONTAIN && imageFit === IMAGE_FIT_COVER);\n}\nfunction parseInt(value) {\n    return typeof value === \"string\" ? Number.parseInt(value, 10) : value;\n}\nfunction parseLengthPercentage(input) {\n    if (typeof input === \"number\") {\n        return { pixel: input };\n    }\n    if (typeof input === \"string\") {\n        const value = parseInt(input);\n        return input.endsWith(\"%\") ? { percent: value } : { pixel: value };\n    }\n    return { pixel: 0 };\n}\nfunction computeSlideRect(containerRect, padding) {\n    const paddingValue = parseLengthPercentage(padding);\n    const paddingPixels = paddingValue.percent !== undefined ? (containerRect.width / 100) * paddingValue.percent : paddingValue.pixel;\n    return {\n        width: Math.max(containerRect.width - 2 * paddingPixels, 0),\n        height: Math.max(containerRect.height - 2 * paddingPixels, 0),\n    };\n}\nfunction devicePixelRatio() {\n    return (hasWindow() ? window === null || window === void 0 ? void 0 : window.devicePixelRatio : undefined) || 1;\n}\nfunction getSlideIndex(index, slidesCount) {\n    return slidesCount > 0 ? ((index % slidesCount) + slidesCount) % slidesCount : 0;\n}\nfunction hasSlides(slides) {\n    return slides.length > 0;\n}\nfunction getSlide(slides, index) {\n    return slides[getSlideIndex(index, slides.length)];\n}\nfunction getSlideIfPresent(slides, index) {\n    return hasSlides(slides) ? getSlide(slides, index) : undefined;\n}\nfunction getSlideKey(slide) {\n    return isImageSlide(slide) ? slide.src : undefined;\n}\nfunction addToolbarButton(toolbar, key, button) {\n    if (!button)\n        return toolbar;\n    const { buttons, ...restToolbar } = toolbar;\n    const index = buttons.findIndex((item) => item === key);\n    const buttonWithKey = React.isValidElement(button) ? React.cloneElement(button, { key }, null) : button;\n    if (index >= 0) {\n        const result = [...buttons];\n        result.splice(index, 1, buttonWithKey);\n        return { buttons: result, ...restToolbar };\n    }\n    return { buttons: [buttonWithKey, ...buttons], ...restToolbar };\n}\nfunction stopNavigationEventsPropagation() {\n    const stopPropagation = (event) => {\n        event.stopPropagation();\n    };\n    return { onPointerDown: stopPropagation, onKeyDown: stopPropagation, onWheel: stopPropagation };\n}\nfunction calculatePreload(carousel, slides, minimum = 0) {\n    return Math.min(carousel.preload, Math.max(carousel.finite ? slides.length - 1 : Math.floor(slides.length / 2), minimum));\n}\n\nconst LightboxDefaultProps = {\n    open: false,\n    close: () => { },\n    index: 0,\n    slides: [],\n    render: {},\n    plugins: [],\n    toolbar: { buttons: [ACTION_CLOSE] },\n    labels: {},\n    animation: {\n        fade: 250,\n        swipe: 500,\n        easing: {\n            fade: \"ease\",\n            swipe: \"ease-out\",\n            navigation: \"ease-in-out\",\n        },\n    },\n    carousel: {\n        finite: false,\n        preload: 2,\n        padding: \"16px\",\n        spacing: \"30%\",\n        imageFit: IMAGE_FIT_CONTAIN,\n        imageProps: {},\n    },\n    controller: {\n        ref: null,\n        focus: true,\n        aria: false,\n        touchAction: \"none\",\n        closeOnPullUp: false,\n        closeOnPullDown: false,\n        closeOnBackdropClick: false,\n        preventDefaultWheelX: true,\n        preventDefaultWheelY: false,\n    },\n    portal: {},\n    noScroll: {\n        disabled: false,\n    },\n    on: {},\n    styles: {},\n    className: \"\",\n};\n\nfunction createModule(name, component) {\n    return { name, component };\n}\nfunction createNode(module, children) {\n    return { module, children };\n}\nfunction traverseNode(node, target, apply) {\n    if (node.module.name === target) {\n        return apply(node);\n    }\n    if (node.children) {\n        return [\n            createNode(node.module, node.children.flatMap((n) => { var _a; return (_a = traverseNode(n, target, apply)) !== null && _a !== void 0 ? _a : []; })),\n        ];\n    }\n    return [node];\n}\nfunction traverse(nodes, target, apply) {\n    return nodes.flatMap((node) => { var _a; return (_a = traverseNode(node, target, apply)) !== null && _a !== void 0 ? _a : []; });\n}\nfunction withPlugins(root, plugins = [], augmentations = []) {\n    let config = root;\n    const contains = (target) => {\n        const nodes = [...config];\n        while (nodes.length > 0) {\n            const node = nodes.pop();\n            if ((node === null || node === void 0 ? void 0 : node.module.name) === target)\n                return true;\n            if (node === null || node === void 0 ? void 0 : node.children)\n                nodes.push(...node.children);\n        }\n        return false;\n    };\n    const addParent = (target, module) => {\n        if (target === \"\") {\n            config = [createNode(module, config)];\n            return;\n        }\n        config = traverse(config, target, (node) => [createNode(module, [node])]);\n    };\n    const append = (target, module) => {\n        config = traverse(config, target, (node) => [createNode(node.module, [createNode(module, node.children)])]);\n    };\n    const addChild = (target, module, precede) => {\n        config = traverse(config, target, (node) => {\n            var _a;\n            return [\n                createNode(node.module, [\n                    ...(precede ? [createNode(module)] : []),\n                    ...((_a = node.children) !== null && _a !== void 0 ? _a : []),\n                    ...(!precede ? [createNode(module)] : []),\n                ]),\n            ];\n        });\n    };\n    const addSibling = (target, module, precede) => {\n        config = traverse(config, target, (node) => [\n            ...(precede ? [createNode(module)] : []),\n            node,\n            ...(!precede ? [createNode(module)] : []),\n        ]);\n    };\n    const addModule = (module) => {\n        append(MODULE_CONTROLLER, module);\n    };\n    const replace = (target, module) => {\n        config = traverse(config, target, (node) => [createNode(module, node.children)]);\n    };\n    const remove = (target) => {\n        config = traverse(config, target, (node) => node.children);\n    };\n    const augment = (augmentation) => {\n        augmentations.push(augmentation);\n    };\n    plugins.forEach((plugin) => {\n        plugin({\n            contains,\n            addParent,\n            append,\n            addChild,\n            addSibling,\n            addModule,\n            replace,\n            remove,\n            augment,\n        });\n    });\n    return {\n        config,\n        augmentation: (props) => augmentations.reduce((acc, augmentation) => augmentation(acc), props),\n    };\n}\n\nconst EventsContext = React.createContext(null);\nconst useEvents = makeUseContext(\"useEvents\", \"EventsContext\", EventsContext);\nfunction EventsProvider({ children }) {\n    const [subscriptions] = React.useState({});\n    React.useEffect(() => () => {\n        Object.keys(subscriptions).forEach((topic) => delete subscriptions[topic]);\n    }, [subscriptions]);\n    const context = React.useMemo(() => {\n        const unsubscribe = (topic, callback) => {\n            var _a;\n            (_a = subscriptions[topic]) === null || _a === void 0 ? void 0 : _a.splice(0, subscriptions[topic].length, ...subscriptions[topic].filter((cb) => cb !== callback));\n        };\n        const subscribe = (topic, callback) => {\n            if (!subscriptions[topic]) {\n                subscriptions[topic] = [];\n            }\n            subscriptions[topic].push(callback);\n            return () => unsubscribe(topic, callback);\n        };\n        const publish = (...[topic, event]) => {\n            var _a;\n            (_a = subscriptions[topic]) === null || _a === void 0 ? void 0 : _a.forEach((callback) => callback(event));\n        };\n        return { publish, subscribe, unsubscribe };\n    }, [subscriptions]);\n    return React.createElement(EventsContext.Provider, { value: context }, children);\n}\n\nconst LightboxPropsContext = React.createContext(null);\nconst useLightboxProps = makeUseContext(\"useLightboxProps\", \"LightboxPropsContext\", LightboxPropsContext);\nfunction LightboxPropsProvider({ children, ...props }) {\n    return React.createElement(LightboxPropsContext.Provider, { value: props }, children);\n}\n\nconst LightboxStateContext = React.createContext(null);\nconst useLightboxState = makeUseContext(\"useLightboxState\", \"LightboxStateContext\", LightboxStateContext);\nconst LightboxDispatchContext = React.createContext(null);\nconst useLightboxDispatch = makeUseContext(\"useLightboxDispatch\", \"LightboxDispatchContext\", LightboxDispatchContext);\nfunction reducer(state, action) {\n    switch (action.type) {\n        case \"swipe\": {\n            const { slides } = state;\n            const increment = (action === null || action === void 0 ? void 0 : action.increment) || 0;\n            const globalIndex = state.globalIndex + increment;\n            const currentIndex = getSlideIndex(globalIndex, slides.length);\n            const currentSlide = getSlideIfPresent(slides, currentIndex);\n            const animation = increment || action.duration\n                ? {\n                    increment,\n                    duration: action.duration,\n                    easing: action.easing,\n                }\n                : undefined;\n            return { slides, currentIndex, globalIndex, currentSlide, animation };\n        }\n        case \"update\":\n            if (action.slides !== state.slides || action.index !== state.currentIndex) {\n                return {\n                    slides: action.slides,\n                    currentIndex: action.index,\n                    globalIndex: action.index,\n                    currentSlide: getSlideIfPresent(action.slides, action.index),\n                };\n            }\n            return state;\n        default:\n            throw new Error(UNKNOWN_ACTION_TYPE);\n    }\n}\nfunction LightboxStateProvider({ slides, index, children }) {\n    const [state, dispatch] = React.useReducer(reducer, {\n        slides,\n        currentIndex: index,\n        globalIndex: index,\n        currentSlide: getSlideIfPresent(slides, index),\n    });\n    React.useEffect(() => {\n        dispatch({ type: \"update\", slides, index });\n    }, [slides, index]);\n    const context = React.useMemo(() => ({ ...state, state, dispatch }), [state, dispatch]);\n    return (React.createElement(LightboxDispatchContext.Provider, { value: dispatch },\n        React.createElement(LightboxStateContext.Provider, { value: context }, children)));\n}\n\nconst TimeoutsContext = React.createContext(null);\nconst useTimeouts = makeUseContext(\"useTimeouts\", \"TimeoutsContext\", TimeoutsContext);\nfunction TimeoutsProvider({ children }) {\n    const [timeouts] = React.useState([]);\n    React.useEffect(() => () => {\n        timeouts.forEach((tid) => window.clearTimeout(tid));\n        timeouts.splice(0, timeouts.length);\n    }, [timeouts]);\n    const context = React.useMemo(() => {\n        const removeTimeout = (id) => {\n            timeouts.splice(0, timeouts.length, ...timeouts.filter((tid) => tid !== id));\n        };\n        const setTimeout = (fn, delay) => {\n            const id = window.setTimeout(() => {\n                removeTimeout(id);\n                fn();\n            }, delay);\n            timeouts.push(id);\n            return id;\n        };\n        const clearTimeout = (id) => {\n            if (id !== undefined) {\n                removeTimeout(id);\n                window.clearTimeout(id);\n            }\n        };\n        return { setTimeout, clearTimeout };\n    }, [timeouts]);\n    return React.createElement(TimeoutsContext.Provider, { value: context }, children);\n}\n\nconst IconButton = React.forwardRef(function IconButton({ label: label$1, className, icon: Icon, renderIcon, onClick, style, ...rest }, ref) {\n    const { styles, labels } = useLightboxProps();\n    return (React.createElement(\"button\", { ref: ref, type: \"button\", \"aria-label\": label(labels, label$1), className: clsx(cssClass(ELEMENT_BUTTON), className), onClick: onClick, style: { ...style, ...styles.button }, ...rest }, renderIcon ? renderIcon() : React.createElement(Icon, { className: cssClass(ELEMENT_ICON), style: styles.icon })));\n});\n\nfunction svgIcon(name, children) {\n    const icon = (props) => (React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 24 24\", width: \"24\", height: \"24\", \"aria-hidden\": \"true\", focusable: \"false\", ...props }, children));\n    icon.displayName = name;\n    return icon;\n}\nfunction createIcon(name, glyph) {\n    return svgIcon(name, React.createElement(\"g\", { fill: \"currentColor\" },\n        React.createElement(\"path\", { d: \"M0 0h24v24H0z\", fill: \"none\" }),\n        glyph));\n}\nfunction createIconDisabled(name, glyph) {\n    return svgIcon(name, React.createElement(React.Fragment, null,\n        React.createElement(\"defs\", null,\n            React.createElement(\"mask\", { id: \"strike\" },\n                React.createElement(\"path\", { d: \"M0 0h24v24H0z\", fill: \"white\" }),\n                React.createElement(\"path\", { d: \"M0 0L24 24\", stroke: \"black\", strokeWidth: 4 }))),\n        React.createElement(\"path\", { d: \"M0.70707 2.121320L21.878680 23.292883\", stroke: \"currentColor\", strokeWidth: 2 }),\n        React.createElement(\"g\", { fill: \"currentColor\", mask: \"url(#strike)\" },\n            React.createElement(\"path\", { d: \"M0 0h24v24H0z\", fill: \"none\" }),\n            glyph)));\n}\nconst CloseIcon = createIcon(\"Close\", React.createElement(\"path\", { d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\" }));\nconst PreviousIcon = createIcon(\"Previous\", React.createElement(\"path\", { d: \"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\" }));\nconst NextIcon = createIcon(\"Next\", React.createElement(\"path\", { d: \"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\" }));\nconst LoadingIcon = createIcon(\"Loading\", React.createElement(React.Fragment, null, Array.from({ length: 8 }).map((_, index, array) => (React.createElement(\"line\", { key: index, x1: \"12\", y1: \"6.5\", x2: \"12\", y2: \"1.8\", strokeLinecap: \"round\", strokeWidth: \"2.6\", stroke: \"currentColor\", strokeOpacity: (1 / array.length) * (index + 1), transform: `rotate(${(360 / array.length) * index}, 12, 12)` })))));\nconst ErrorIcon = createIcon(\"Error\", React.createElement(\"path\", { d: \"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z\" }));\n\nconst useLayoutEffect = hasWindow() ? React.useLayoutEffect : React.useEffect;\n\nfunction useMotionPreference() {\n    const [reduceMotion, setReduceMotion] = React.useState(false);\n    React.useEffect(() => {\n        var _a, _b;\n        const mediaQuery = (_a = window.matchMedia) === null || _a === void 0 ? void 0 : _a.call(window, \"(prefers-reduced-motion: reduce)\");\n        setReduceMotion(mediaQuery === null || mediaQuery === void 0 ? void 0 : mediaQuery.matches);\n        const listener = (event) => setReduceMotion(event.matches);\n        (_b = mediaQuery === null || mediaQuery === void 0 ? void 0 : mediaQuery.addEventListener) === null || _b === void 0 ? void 0 : _b.call(mediaQuery, \"change\", listener);\n        return () => { var _a; return (_a = mediaQuery === null || mediaQuery === void 0 ? void 0 : mediaQuery.removeEventListener) === null || _a === void 0 ? void 0 : _a.call(mediaQuery, \"change\", listener); };\n    }, []);\n    return reduceMotion;\n}\n\nfunction currentTransformation(node) {\n    let x = 0;\n    let y = 0;\n    let z = 0;\n    const matrix = window.getComputedStyle(node).transform;\n    const matcher = matrix.match(/matrix.*\\((.+)\\)/);\n    if (matcher) {\n        const values = matcher[1].split(\",\").map(parseInt);\n        if (values.length === 6) {\n            x = values[4];\n            y = values[5];\n        }\n        else if (values.length === 16) {\n            x = values[12];\n            y = values[13];\n            z = values[14];\n        }\n    }\n    return { x, y, z };\n}\nfunction useAnimation(nodeRef, computeAnimation) {\n    const snapshot = React.useRef();\n    const animation = React.useRef();\n    const reduceMotion = useMotionPreference();\n    useLayoutEffect(() => {\n        var _a, _b, _c;\n        if (nodeRef.current && snapshot.current !== undefined && !reduceMotion) {\n            const { keyframes, duration, easing, onfinish } = computeAnimation(snapshot.current, nodeRef.current.getBoundingClientRect(), currentTransformation(nodeRef.current)) || {};\n            if (keyframes && duration) {\n                (_a = animation.current) === null || _a === void 0 ? void 0 : _a.cancel();\n                animation.current = undefined;\n                try {\n                    animation.current = (_c = (_b = nodeRef.current).animate) === null || _c === void 0 ? void 0 : _c.call(_b, keyframes, { duration, easing });\n                }\n                catch (err) {\n                    console.error(err);\n                }\n                if (animation.current) {\n                    animation.current.onfinish = () => {\n                        animation.current = undefined;\n                        onfinish === null || onfinish === void 0 ? void 0 : onfinish();\n                    };\n                }\n            }\n        }\n        snapshot.current = undefined;\n    });\n    return {\n        prepareAnimation: (currentSnapshot) => {\n            snapshot.current = currentSnapshot;\n        },\n        isAnimationPlaying: () => { var _a; return ((_a = animation.current) === null || _a === void 0 ? void 0 : _a.playState) === \"running\"; },\n    };\n}\n\nfunction useContainerRect() {\n    const containerRef = React.useRef(null);\n    const observerRef = React.useRef();\n    const [containerRect, setContainerRect] = React.useState();\n    const setContainerRef = React.useCallback((node) => {\n        containerRef.current = node;\n        if (observerRef.current) {\n            observerRef.current.disconnect();\n            observerRef.current = undefined;\n        }\n        const updateContainerRect = () => {\n            if (node) {\n                const styles = window.getComputedStyle(node);\n                const parse = (value) => parseFloat(value) || 0;\n                setContainerRect({\n                    width: Math.round(node.clientWidth - parse(styles.paddingLeft) - parse(styles.paddingRight)),\n                    height: Math.round(node.clientHeight - parse(styles.paddingTop) - parse(styles.paddingBottom)),\n                });\n            }\n            else {\n                setContainerRect(undefined);\n            }\n        };\n        updateContainerRect();\n        if (node && typeof ResizeObserver !== \"undefined\") {\n            observerRef.current = new ResizeObserver(updateContainerRect);\n            observerRef.current.observe(node);\n        }\n    }, []);\n    return { setContainerRef, containerRef, containerRect };\n}\n\nfunction useDelay() {\n    const timeoutId = React.useRef();\n    const { setTimeout, clearTimeout } = useTimeouts();\n    return React.useCallback((callback, delay) => {\n        clearTimeout(timeoutId.current);\n        timeoutId.current = setTimeout(callback, delay > 0 ? delay : 0);\n    }, [setTimeout, clearTimeout]);\n}\n\nfunction useEventCallback(fn) {\n    const ref = React.useRef(fn);\n    useLayoutEffect(() => {\n        ref.current = fn;\n    });\n    return React.useCallback((...args) => { var _a; return (_a = ref.current) === null || _a === void 0 ? void 0 : _a.call(ref, ...args); }, []);\n}\n\nfunction setRef(ref, value) {\n    if (typeof ref === \"function\") {\n        ref(value);\n    }\n    else if (ref) {\n        ref.current = value;\n    }\n}\nfunction useForkRef(refA, refB) {\n    return React.useMemo(() => refA == null && refB == null\n        ? null\n        : (refValue) => {\n            setRef(refA, refValue);\n            setRef(refB, refValue);\n        }, [refA, refB]);\n}\n\nfunction useLoseFocus(focus, disabled = false) {\n    const focused = React.useRef();\n    useLayoutEffect(() => {\n        if (disabled && focused.current) {\n            focused.current = false;\n            focus();\n        }\n    }, [disabled, focus]);\n    const onFocus = React.useCallback(() => {\n        focused.current = true;\n    }, []);\n    const onBlur = React.useCallback(() => {\n        focused.current = false;\n    }, []);\n    return { onFocus, onBlur };\n}\n\nfunction useRTL() {\n    const [isRTL, setIsRTL] = React.useState(false);\n    useLayoutEffect(() => {\n        setIsRTL(window.getComputedStyle(window.document.documentElement).direction === \"rtl\");\n    }, []);\n    return isRTL;\n}\n\nfunction useSensors() {\n    const [subscribers] = React.useState({});\n    const notifySubscribers = React.useCallback((type, event) => {\n        var _a;\n        (_a = subscribers[type]) === null || _a === void 0 ? void 0 : _a.forEach((listener) => {\n            if (!event.isPropagationStopped())\n                listener(event);\n        });\n    }, [subscribers]);\n    const registerSensors = React.useMemo(() => ({\n        onPointerDown: (event) => notifySubscribers(EVENT_ON_POINTER_DOWN, event),\n        onPointerMove: (event) => notifySubscribers(EVENT_ON_POINTER_MOVE, event),\n        onPointerUp: (event) => notifySubscribers(EVENT_ON_POINTER_UP, event),\n        onPointerLeave: (event) => notifySubscribers(EVENT_ON_POINTER_LEAVE, event),\n        onPointerCancel: (event) => notifySubscribers(EVENT_ON_POINTER_CANCEL, event),\n        onKeyDown: (event) => notifySubscribers(EVENT_ON_KEY_DOWN, event),\n        onKeyUp: (event) => notifySubscribers(EVENT_ON_KEY_UP, event),\n        onWheel: (event) => notifySubscribers(EVENT_ON_WHEEL, event),\n    }), [notifySubscribers]);\n    const subscribeSensors = React.useCallback((type, callback) => {\n        if (!subscribers[type]) {\n            subscribers[type] = [];\n        }\n        subscribers[type].unshift(callback);\n        return () => {\n            const listeners = subscribers[type];\n            if (listeners) {\n                listeners.splice(0, listeners.length, ...listeners.filter((el) => el !== callback));\n            }\n        };\n    }, [subscribers]);\n    return { registerSensors, subscribeSensors };\n}\n\nfunction useThrottle(callback, delay) {\n    const lastCallbackTime = React.useRef(0);\n    const delayCallback = useDelay();\n    const executeCallback = useEventCallback((...args) => {\n        lastCallbackTime.current = Date.now();\n        callback(args);\n    });\n    return React.useCallback((...args) => {\n        delayCallback(() => {\n            executeCallback(args);\n        }, delay - (Date.now() - lastCallbackTime.current));\n    }, [delay, executeCallback, delayCallback]);\n}\n\nconst slidePrefix = makeComposePrefix(\"slide\");\nconst slideImagePrefix = makeComposePrefix(\"slide_image\");\nfunction ImageSlide({ slide: image, offset, render, rect, imageFit, imageProps, onClick, onLoad, style, }) {\n    var _a, _b, _c, _d, _e, _f, _g;\n    const [status, setStatus] = React.useState(SLIDE_STATUS_LOADING);\n    const { publish } = useEvents();\n    const { setTimeout } = useTimeouts();\n    const imageRef = React.useRef(null);\n    React.useEffect(() => {\n        if (offset === 0) {\n            publish(activeSlideStatus(status));\n        }\n    }, [offset, status, publish]);\n    const handleLoading = useEventCallback((img) => {\n        (\"decode\" in img ? img.decode() : Promise.resolve())\n            .catch(() => { })\n            .then(() => {\n            if (!img.parentNode) {\n                return;\n            }\n            setStatus(SLIDE_STATUS_COMPLETE);\n            setTimeout(() => {\n                onLoad === null || onLoad === void 0 ? void 0 : onLoad(img);\n            }, 0);\n        });\n    });\n    const setImageRef = React.useCallback((img) => {\n        imageRef.current = img;\n        if (img === null || img === void 0 ? void 0 : img.complete) {\n            handleLoading(img);\n        }\n    }, [handleLoading]);\n    const handleOnLoad = React.useCallback((event) => {\n        handleLoading(event.currentTarget);\n    }, [handleLoading]);\n    const onError = React.useCallback(() => {\n        setStatus(SLIDE_STATUS_ERROR);\n    }, []);\n    const cover = isImageFitCover(image, imageFit);\n    const nonInfinite = (value, fallback) => (Number.isFinite(value) ? value : fallback);\n    const maxWidth = nonInfinite(Math.max(...((_b = (_a = image.srcSet) === null || _a === void 0 ? void 0 : _a.map((x) => x.width)) !== null && _b !== void 0 ? _b : []).concat(image.width ? [image.width] : []).filter(Boolean)), ((_c = imageRef.current) === null || _c === void 0 ? void 0 : _c.naturalWidth) || 0);\n    const maxHeight = nonInfinite(Math.max(...((_e = (_d = image.srcSet) === null || _d === void 0 ? void 0 : _d.map((x) => x.height)) !== null && _e !== void 0 ? _e : []).concat(image.height ? [image.height] : []).filter(Boolean)), ((_f = imageRef.current) === null || _f === void 0 ? void 0 : _f.naturalHeight) || 0);\n    const defaultStyle = maxWidth && maxHeight\n        ? {\n            maxWidth: `min(${maxWidth}px, 100%)`,\n            maxHeight: `min(${maxHeight}px, 100%)`,\n        }\n        : {\n            maxWidth: \"100%\",\n            maxHeight: \"100%\",\n        };\n    const srcSet = (_g = image.srcSet) === null || _g === void 0 ? void 0 : _g.sort((a, b) => a.width - b.width).map((item) => `${item.src} ${item.width}w`).join(\", \");\n    const estimateActualWidth = () => rect && !cover && image.width && image.height ? (rect.height / image.height) * image.width : Number.MAX_VALUE;\n    const sizes = srcSet && rect && hasWindow() ? `${Math.round(Math.min(estimateActualWidth(), rect.width))}px` : undefined;\n    const { style: imagePropsStyle, className: imagePropsClassName, ...restImageProps } = imageProps || {};\n    return (React.createElement(React.Fragment, null,\n        React.createElement(\"img\", { ref: setImageRef, onLoad: handleOnLoad, onError: onError, onClick: onClick, draggable: false, className: clsx(cssClass(slideImagePrefix()), cover && cssClass(slideImagePrefix(\"cover\")), status !== SLIDE_STATUS_COMPLETE && cssClass(slideImagePrefix(\"loading\")), imagePropsClassName), style: { ...defaultStyle, ...style, ...imagePropsStyle }, ...restImageProps, alt: image.alt, sizes: sizes, srcSet: srcSet, src: image.src }),\n        status !== SLIDE_STATUS_COMPLETE && (React.createElement(\"div\", { className: cssClass(slidePrefix(SLIDE_STATUS_PLACEHOLDER)) },\n            status === SLIDE_STATUS_LOADING &&\n                ((render === null || render === void 0 ? void 0 : render.iconLoading) ? (render.iconLoading()) : (React.createElement(LoadingIcon, { className: clsx(cssClass(ELEMENT_ICON), cssClass(slidePrefix(SLIDE_STATUS_LOADING))) }))),\n            status === SLIDE_STATUS_ERROR &&\n                ((render === null || render === void 0 ? void 0 : render.iconError) ? (render.iconError()) : (React.createElement(ErrorIcon, { className: clsx(cssClass(ELEMENT_ICON), cssClass(slidePrefix(SLIDE_STATUS_ERROR))) })))))));\n}\n\nvar SwipeState;\n(function (SwipeState) {\n    SwipeState[SwipeState[\"NONE\"] = 0] = \"NONE\";\n    SwipeState[SwipeState[\"SWIPE\"] = 1] = \"SWIPE\";\n    SwipeState[SwipeState[\"PULL\"] = 2] = \"PULL\";\n    SwipeState[SwipeState[\"ANIMATION\"] = 3] = \"ANIMATION\";\n})(SwipeState || (SwipeState = {}));\n\nfunction usePointerEvents(subscribeSensors, onPointerDown, onPointerMove, onPointerUp, disabled) {\n    React.useEffect(() => !disabled\n        ? cleanup(subscribeSensors(EVENT_ON_POINTER_DOWN, onPointerDown), subscribeSensors(EVENT_ON_POINTER_MOVE, onPointerMove), subscribeSensors(EVENT_ON_POINTER_UP, onPointerUp), subscribeSensors(EVENT_ON_POINTER_LEAVE, onPointerUp), subscribeSensors(EVENT_ON_POINTER_CANCEL, onPointerUp))\n        : () => { }, [subscribeSensors, onPointerDown, onPointerMove, onPointerUp, disabled]);\n}\n\nvar Gesture;\n(function (Gesture) {\n    Gesture[Gesture[\"NONE\"] = 0] = \"NONE\";\n    Gesture[Gesture[\"SWIPE\"] = 1] = \"SWIPE\";\n    Gesture[Gesture[\"PULL\"] = 2] = \"PULL\";\n})(Gesture || (Gesture = {}));\nconst SWIPE_THRESHOLD = 30;\nfunction usePointerSwipe(subscribeSensors, isSwipeValid, containerWidth, swipeAnimationDuration, onSwipeStart, onSwipeProgress, onSwipeFinish, onSwipeCancel, pullUpEnabled, pullDownEnabled, onPullStart, onPullProgress, onPullFinish, onPullCancel) {\n    const offset = React.useRef(0);\n    const pointers = React.useRef([]);\n    const activePointer = React.useRef();\n    const startTime = React.useRef(0);\n    const gesture = React.useRef(Gesture.NONE);\n    const clearPointer = React.useCallback((event) => {\n        if (activePointer.current === event.pointerId) {\n            activePointer.current = undefined;\n            gesture.current = Gesture.NONE;\n        }\n        const currentPointers = pointers.current;\n        currentPointers.splice(0, currentPointers.length, ...currentPointers.filter((p) => p.pointerId !== event.pointerId));\n    }, []);\n    const addPointer = React.useCallback((event) => {\n        clearPointer(event);\n        event.persist();\n        pointers.current.push(event);\n    }, [clearPointer]);\n    const onPointerDown = useEventCallback((event) => {\n        addPointer(event);\n    });\n    const exceedsPullThreshold = (value, threshold) => (pullDownEnabled && value > threshold) || (pullUpEnabled && value < -threshold);\n    const onPointerUp = useEventCallback((event) => {\n        if (pointers.current.find((x) => x.pointerId === event.pointerId) && activePointer.current === event.pointerId) {\n            const duration = Date.now() - startTime.current;\n            const currentOffset = offset.current;\n            if (gesture.current === Gesture.SWIPE) {\n                if (Math.abs(currentOffset) > 0.3 * containerWidth ||\n                    (Math.abs(currentOffset) > 5 && duration < swipeAnimationDuration)) {\n                    onSwipeFinish(currentOffset, duration);\n                }\n                else {\n                    onSwipeCancel(currentOffset);\n                }\n            }\n            else if (gesture.current === Gesture.PULL) {\n                if (exceedsPullThreshold(currentOffset, 2 * SWIPE_THRESHOLD)) {\n                    onPullFinish(currentOffset, duration);\n                }\n                else {\n                    onPullCancel(currentOffset);\n                }\n            }\n            offset.current = 0;\n            gesture.current = Gesture.NONE;\n        }\n        clearPointer(event);\n    });\n    const onPointerMove = useEventCallback((event) => {\n        const pointer = pointers.current.find((p) => p.pointerId === event.pointerId);\n        if (pointer) {\n            const isCurrentPointer = activePointer.current === event.pointerId;\n            if (event.buttons === 0) {\n                if (isCurrentPointer && offset.current !== 0) {\n                    onPointerUp(event);\n                }\n                else {\n                    clearPointer(pointer);\n                }\n                return;\n            }\n            const deltaX = event.clientX - pointer.clientX;\n            const deltaY = event.clientY - pointer.clientY;\n            if (activePointer.current === undefined) {\n                const startGesture = (newGesture) => {\n                    addPointer(event);\n                    activePointer.current = event.pointerId;\n                    startTime.current = Date.now();\n                    gesture.current = newGesture;\n                };\n                if (Math.abs(deltaX) > Math.abs(deltaY) && Math.abs(deltaX) > SWIPE_THRESHOLD && isSwipeValid(deltaX)) {\n                    startGesture(Gesture.SWIPE);\n                    onSwipeStart();\n                }\n                else if (Math.abs(deltaY) > Math.abs(deltaX) && exceedsPullThreshold(deltaY, SWIPE_THRESHOLD)) {\n                    startGesture(Gesture.PULL);\n                    onPullStart();\n                }\n            }\n            else if (isCurrentPointer) {\n                if (gesture.current === Gesture.SWIPE) {\n                    offset.current = deltaX;\n                    onSwipeProgress(deltaX);\n                }\n                else if (gesture.current === Gesture.PULL) {\n                    offset.current = deltaY;\n                    onPullProgress(deltaY);\n                }\n            }\n        }\n    });\n    usePointerEvents(subscribeSensors, onPointerDown, onPointerMove, onPointerUp);\n}\n\nfunction usePreventWheelDefaults({ preventDefaultWheelX, preventDefaultWheelY, }) {\n    const ref = React.useRef(null);\n    const listener = useEventCallback((event) => {\n        const horizontal = Math.abs(event.deltaX) > Math.abs(event.deltaY);\n        if ((horizontal && preventDefaultWheelX) || (!horizontal && preventDefaultWheelY) || event.ctrlKey) {\n            event.preventDefault();\n        }\n    });\n    return React.useCallback((node) => {\n        var _a;\n        if (node) {\n            node.addEventListener(\"wheel\", listener, { passive: false });\n        }\n        else {\n            (_a = ref.current) === null || _a === void 0 ? void 0 : _a.removeEventListener(\"wheel\", listener);\n        }\n        ref.current = node;\n    }, [listener]);\n}\n\nfunction useWheelSwipe(swipeState, subscribeSensors, isSwipeValid, containerWidth, swipeAnimationDuration, onSwipeStart, onSwipeProgress, onSwipeFinish, onSwipeCancel) {\n    const offset = React.useRef(0);\n    const intent = React.useRef(0);\n    const intentCleanup = React.useRef();\n    const resetCleanup = React.useRef();\n    const wheelResidualMomentum = React.useRef(0);\n    const startTime = React.useRef(0);\n    const { setTimeout, clearTimeout } = useTimeouts();\n    const cancelSwipeIntentCleanup = React.useCallback(() => {\n        if (intentCleanup.current) {\n            clearTimeout(intentCleanup.current);\n            intentCleanup.current = undefined;\n        }\n    }, [clearTimeout]);\n    const cancelSwipeResetCleanup = React.useCallback(() => {\n        if (resetCleanup.current) {\n            clearTimeout(resetCleanup.current);\n            resetCleanup.current = undefined;\n        }\n    }, [clearTimeout]);\n    const handleCleanup = useEventCallback(() => {\n        if (swipeState !== SwipeState.SWIPE) {\n            offset.current = 0;\n            startTime.current = 0;\n            cancelSwipeIntentCleanup();\n            cancelSwipeResetCleanup();\n        }\n    });\n    React.useEffect(handleCleanup, [swipeState, handleCleanup]);\n    const handleCancelSwipe = useEventCallback((currentSwipeOffset) => {\n        resetCleanup.current = undefined;\n        if (offset.current === currentSwipeOffset) {\n            onSwipeCancel(offset.current);\n        }\n    });\n    const onWheel = useEventCallback((event) => {\n        if (event.ctrlKey) {\n            return;\n        }\n        if (Math.abs(event.deltaY) > Math.abs(event.deltaX)) {\n            return;\n        }\n        if (swipeState === SwipeState.NONE) {\n            if (Math.abs(event.deltaX) <= 1.2 * Math.abs(wheelResidualMomentum.current)) {\n                wheelResidualMomentum.current = event.deltaX;\n                return;\n            }\n            if (!isSwipeValid(-event.deltaX)) {\n                return;\n            }\n            intent.current += event.deltaX;\n            cancelSwipeIntentCleanup();\n            if (Math.abs(intent.current) > 30) {\n                intent.current = 0;\n                wheelResidualMomentum.current = 0;\n                startTime.current = Date.now();\n                onSwipeStart();\n            }\n            else {\n                const currentSwipeIntent = intent.current;\n                intentCleanup.current = setTimeout(() => {\n                    intentCleanup.current = undefined;\n                    if (currentSwipeIntent === intent.current) {\n                        intent.current = 0;\n                    }\n                }, swipeAnimationDuration);\n            }\n        }\n        else if (swipeState === SwipeState.SWIPE) {\n            let newSwipeOffset = offset.current - event.deltaX;\n            newSwipeOffset = Math.min(Math.abs(newSwipeOffset), containerWidth) * Math.sign(newSwipeOffset);\n            offset.current = newSwipeOffset;\n            onSwipeProgress(newSwipeOffset);\n            cancelSwipeResetCleanup();\n            if (Math.abs(newSwipeOffset) > 0.2 * containerWidth) {\n                wheelResidualMomentum.current = event.deltaX;\n                onSwipeFinish(newSwipeOffset, Date.now() - startTime.current);\n                return;\n            }\n            resetCleanup.current = setTimeout(() => handleCancelSwipe(newSwipeOffset), 2 * swipeAnimationDuration);\n        }\n        else {\n            wheelResidualMomentum.current = event.deltaX;\n        }\n    });\n    React.useEffect(() => subscribeSensors(EVENT_ON_WHEEL, onWheel), [subscribeSensors, onWheel]);\n}\n\nconst cssContainerPrefix = makeComposePrefix(\"container\");\nconst ControllerContext = React.createContext(null);\nconst useController = makeUseContext(\"useController\", \"ControllerContext\", ControllerContext);\nfunction Controller({ children, ...props }) {\n    var _a;\n    const { carousel, animation, controller, on, styles, render } = props;\n    const { closeOnPullUp, closeOnPullDown, preventDefaultWheelX, preventDefaultWheelY } = controller;\n    const [toolbarWidth, setToolbarWidth] = React.useState();\n    const state = useLightboxState();\n    const dispatch = useLightboxDispatch();\n    const [swipeState, setSwipeState] = React.useState(SwipeState.NONE);\n    const swipeOffset = React.useRef(0);\n    const pullOffset = React.useRef(0);\n    const pullOpacity = React.useRef(1);\n    const { registerSensors, subscribeSensors } = useSensors();\n    const { subscribe, publish } = useEvents();\n    const cleanupAnimationIncrement = useDelay();\n    const cleanupSwipeOffset = useDelay();\n    const cleanupPullOffset = useDelay();\n    const { containerRef, setContainerRef, containerRect } = useContainerRect();\n    const handleContainerRef = useForkRef(usePreventWheelDefaults({ preventDefaultWheelX, preventDefaultWheelY }), setContainerRef);\n    const carouselRef = React.useRef(null);\n    const setCarouselRef = useForkRef(carouselRef, undefined);\n    const isRTL = useRTL();\n    const rtl = (value) => (isRTL ? -1 : 1) * (typeof value === \"number\" ? value : 1);\n    const focus = useEventCallback(() => { var _a; return (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.focus(); });\n    const getLightboxProps = useEventCallback(() => props);\n    const getLightboxState = useEventCallback(() => state);\n    const prev = React.useCallback((params) => publish(ACTION_PREV, params), [publish]);\n    const next = React.useCallback((params) => publish(ACTION_NEXT, params), [publish]);\n    const close = React.useCallback(() => publish(ACTION_CLOSE), [publish]);\n    const isSwipeValid = (offset) => !(carousel.finite &&\n        ((rtl(offset) > 0 && state.currentIndex === 0) ||\n            (rtl(offset) < 0 && state.currentIndex === state.slides.length - 1)));\n    const setSwipeOffset = (offset) => {\n        var _a;\n        swipeOffset.current = offset;\n        (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.style.setProperty(cssVar(\"swipe_offset\"), `${Math.round(offset)}px`);\n    };\n    const setPullOffset = (offset) => {\n        var _a, _b;\n        pullOffset.current = offset;\n        pullOpacity.current = (() => {\n            const threshold = 60;\n            const minOpacity = 0.5;\n            const offsetValue = (() => {\n                if (closeOnPullDown && offset > 0)\n                    return offset;\n                if (closeOnPullUp && offset < 0)\n                    return -offset;\n                return 0;\n            })();\n            return Math.min(Math.max(round(1 - (offsetValue / threshold) * (1 - minOpacity), 2), minOpacity), 1);\n        })();\n        (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.style.setProperty(cssVar(\"pull_offset\"), `${Math.round(offset)}px`);\n        (_b = containerRef.current) === null || _b === void 0 ? void 0 : _b.style.setProperty(cssVar(\"pull_opacity\"), `${pullOpacity.current}`);\n    };\n    const { prepareAnimation: preparePullAnimation } = useAnimation(carouselRef, (snapshot, rect, translate) => {\n        if (carouselRef.current && containerRect) {\n            return {\n                keyframes: [\n                    {\n                        transform: `translate(0, ${snapshot.rect.y - rect.y + translate.y}px)`,\n                        opacity: snapshot.opacity,\n                    },\n                    { transform: \"translate(0, 0)\", opacity: 1 },\n                ],\n                duration: snapshot.duration,\n                easing: animation.easing.fade,\n            };\n        }\n        return undefined;\n    });\n    const pull = (offset, cancel) => {\n        if (closeOnPullUp || closeOnPullDown) {\n            setPullOffset(offset);\n            let duration = 0;\n            if (carouselRef.current) {\n                duration = animation.fade * (cancel ? 2 : 1);\n                preparePullAnimation({\n                    rect: carouselRef.current.getBoundingClientRect(),\n                    opacity: pullOpacity.current,\n                    duration,\n                });\n            }\n            cleanupPullOffset(() => {\n                setPullOffset(0);\n                setSwipeState(SwipeState.NONE);\n            }, duration);\n            setSwipeState(SwipeState.ANIMATION);\n            if (!cancel) {\n                close();\n            }\n        }\n    };\n    const { prepareAnimation, isAnimationPlaying } = useAnimation(carouselRef, (snapshot, rect, translate) => {\n        var _a;\n        if (carouselRef.current && containerRect && ((_a = state.animation) === null || _a === void 0 ? void 0 : _a.duration)) {\n            const parsedSpacing = parseLengthPercentage(carousel.spacing);\n            const spacingValue = (parsedSpacing.percent ? (parsedSpacing.percent * containerRect.width) / 100 : parsedSpacing.pixel) || 0;\n            return {\n                keyframes: [\n                    {\n                        transform: `translate(${rtl(state.globalIndex - snapshot.index) * (containerRect.width + spacingValue) +\n                            snapshot.rect.x -\n                            rect.x +\n                            translate.x}px, 0)`,\n                    },\n                    { transform: \"translate(0, 0)\" },\n                ],\n                duration: state.animation.duration,\n                easing: state.animation.easing,\n            };\n        }\n        return undefined;\n    });\n    const swipe = useEventCallback((action) => {\n        var _a, _b;\n        const currentSwipeOffset = action.offset || 0;\n        const swipeDuration = !currentSwipeOffset ? (_a = animation.navigation) !== null && _a !== void 0 ? _a : animation.swipe : animation.swipe;\n        const swipeEasing = !currentSwipeOffset && !isAnimationPlaying() ? animation.easing.navigation : animation.easing.swipe;\n        let { direction } = action;\n        const count = (_b = action.count) !== null && _b !== void 0 ? _b : 1;\n        let newSwipeState = SwipeState.ANIMATION;\n        let newSwipeAnimationDuration = swipeDuration * count;\n        if (!direction) {\n            const containerWidth = containerRect === null || containerRect === void 0 ? void 0 : containerRect.width;\n            const elapsedTime = action.duration || 0;\n            const expectedTime = containerWidth\n                ? (swipeDuration / containerWidth) * Math.abs(currentSwipeOffset)\n                : swipeDuration;\n            if (count !== 0) {\n                if (elapsedTime < expectedTime) {\n                    newSwipeAnimationDuration =\n                        (newSwipeAnimationDuration / expectedTime) * Math.max(elapsedTime, expectedTime / 5);\n                }\n                else if (containerWidth) {\n                    newSwipeAnimationDuration =\n                        (swipeDuration / containerWidth) * (containerWidth - Math.abs(currentSwipeOffset));\n                }\n                direction = rtl(currentSwipeOffset) > 0 ? ACTION_PREV : ACTION_NEXT;\n            }\n            else {\n                newSwipeAnimationDuration = swipeDuration / 2;\n            }\n        }\n        let increment = 0;\n        if (direction === ACTION_PREV) {\n            if (isSwipeValid(rtl(1))) {\n                increment = -count;\n            }\n            else {\n                newSwipeState = SwipeState.NONE;\n                newSwipeAnimationDuration = swipeDuration;\n            }\n        }\n        else if (direction === ACTION_NEXT) {\n            if (isSwipeValid(rtl(-1))) {\n                increment = count;\n            }\n            else {\n                newSwipeState = SwipeState.NONE;\n                newSwipeAnimationDuration = swipeDuration;\n            }\n        }\n        newSwipeAnimationDuration = Math.round(newSwipeAnimationDuration);\n        cleanupSwipeOffset(() => {\n            setSwipeOffset(0);\n            setSwipeState(SwipeState.NONE);\n        }, newSwipeAnimationDuration);\n        if (carouselRef.current) {\n            prepareAnimation({\n                rect: carouselRef.current.getBoundingClientRect(),\n                index: state.globalIndex,\n            });\n        }\n        setSwipeState(newSwipeState);\n        publish(ACTION_SWIPE, {\n            type: \"swipe\",\n            increment,\n            duration: newSwipeAnimationDuration,\n            easing: swipeEasing,\n        });\n    });\n    React.useEffect(() => {\n        var _a, _b;\n        if (((_a = state.animation) === null || _a === void 0 ? void 0 : _a.increment) && ((_b = state.animation) === null || _b === void 0 ? void 0 : _b.duration)) {\n            cleanupAnimationIncrement(() => dispatch({ type: \"swipe\", increment: 0 }), state.animation.duration);\n        }\n    }, [state.animation, dispatch, cleanupAnimationIncrement]);\n    const swipeParams = [\n        subscribeSensors,\n        isSwipeValid,\n        (containerRect === null || containerRect === void 0 ? void 0 : containerRect.width) || 0,\n        animation.swipe,\n        () => setSwipeState(SwipeState.SWIPE),\n        (offset) => setSwipeOffset(offset),\n        (offset, duration) => swipe({ offset, duration, count: 1 }),\n        (offset) => swipe({ offset, count: 0 }),\n    ];\n    const pullParams = [\n        () => {\n            if (closeOnPullDown) {\n                setSwipeState(SwipeState.PULL);\n            }\n        },\n        (offset) => setPullOffset(offset),\n        (offset) => pull(offset),\n        (offset) => pull(offset, true),\n    ];\n    usePointerSwipe(...swipeParams, closeOnPullUp, closeOnPullDown, ...pullParams);\n    useWheelSwipe(swipeState, ...swipeParams);\n    const focusOnMount = useEventCallback(() => {\n        if (controller.focus) {\n            if (document.querySelector(`.${cssClass(MODULE_PORTAL)} .${cssClass(cssContainerPrefix())}`)) {\n                focus();\n            }\n        }\n    });\n    React.useEffect(focusOnMount, [focusOnMount]);\n    const onViewCallback = useEventCallback(() => {\n        var _a;\n        (_a = on.view) === null || _a === void 0 ? void 0 : _a.call(on, { index: state.currentIndex });\n    });\n    React.useEffect(onViewCallback, [state.globalIndex, onViewCallback]);\n    React.useEffect(() => cleanup(subscribe(ACTION_PREV, (action) => swipe({ direction: ACTION_PREV, ...action })), subscribe(ACTION_NEXT, (action) => swipe({ direction: ACTION_NEXT, ...action })), subscribe(ACTION_SWIPE, (action) => dispatch(action))), [subscribe, swipe, dispatch]);\n    const context = React.useMemo(() => ({\n        prev,\n        next,\n        close,\n        focus,\n        slideRect: containerRect ? computeSlideRect(containerRect, carousel.padding) : { width: 0, height: 0 },\n        containerRect: containerRect || { width: 0, height: 0 },\n        subscribeSensors,\n        containerRef,\n        setCarouselRef,\n        toolbarWidth,\n        setToolbarWidth,\n    }), [\n        prev,\n        next,\n        close,\n        focus,\n        subscribeSensors,\n        containerRect,\n        containerRef,\n        setCarouselRef,\n        toolbarWidth,\n        setToolbarWidth,\n        carousel.padding,\n    ]);\n    React.useImperativeHandle(controller.ref, () => ({\n        prev,\n        next,\n        close,\n        focus,\n        getLightboxProps,\n        getLightboxState,\n    }), [prev, next, close, focus, getLightboxProps, getLightboxState]);\n    return (React.createElement(\"div\", { ref: handleContainerRef, className: clsx(cssClass(cssContainerPrefix()), cssClass(CLASS_FLEX_CENTER)), style: {\n            ...(swipeState === SwipeState.SWIPE\n                ? { [cssVar(\"swipe_offset\")]: `${Math.round(swipeOffset.current)}px` }\n                : null),\n            ...(swipeState === SwipeState.PULL\n                ? {\n                    [cssVar(\"pull_offset\")]: `${Math.round(pullOffset.current)}px`,\n                    [cssVar(\"pull_opacity\")]: `${pullOpacity.current}`,\n                }\n                : null),\n            ...(controller.touchAction !== \"none\" ? { [cssVar(\"controller_touch_action\")]: controller.touchAction } : null),\n            ...styles.container,\n        }, ...(controller.aria ? { role: \"presentation\", \"aria-live\": \"polite\" } : null), tabIndex: -1, ...registerSensors }, containerRect && (React.createElement(ControllerContext.Provider, { value: context },\n        children, (_a = render.controls) === null || _a === void 0 ? void 0 :\n        _a.call(render)))));\n}\nconst ControllerModule = createModule(MODULE_CONTROLLER, Controller);\n\nfunction cssPrefix$2(value) {\n    return composePrefix(MODULE_CAROUSEL, value);\n}\nfunction cssSlidePrefix(value) {\n    return composePrefix(\"slide\", value);\n}\nfunction CarouselSlide({ slide, offset }) {\n    const containerRef = React.useRef(null);\n    const { currentIndex } = useLightboxState();\n    const { slideRect, close } = useController();\n    const { render, carousel: { imageFit, imageProps }, on: { click: onClick }, controller: { closeOnBackdropClick }, styles: { slide: style }, } = useLightboxProps();\n    const renderSlide = () => {\n        var _a, _b, _c, _d;\n        let rendered = (_a = render.slide) === null || _a === void 0 ? void 0 : _a.call(render, { slide, offset, rect: slideRect });\n        if (!rendered && isImageSlide(slide)) {\n            rendered = (React.createElement(ImageSlide, { slide: slide, offset: offset, render: render, rect: slideRect, imageFit: imageFit, imageProps: imageProps, onClick: offset === 0 ? () => onClick === null || onClick === void 0 ? void 0 : onClick({ index: currentIndex }) : undefined }));\n        }\n        return rendered ? (React.createElement(React.Fragment, null, (_b = render.slideHeader) === null || _b === void 0 ? void 0 :\n            _b.call(render, { slide }),\n            ((_c = render.slideContainer) !== null && _c !== void 0 ? _c : (({ children }) => children))({ slide, children: rendered }), (_d = render.slideFooter) === null || _d === void 0 ? void 0 :\n            _d.call(render, { slide }))) : null;\n    };\n    const handleBackdropClick = (event) => {\n        const container = containerRef.current;\n        const target = event.target instanceof HTMLElement ? event.target : undefined;\n        if (closeOnBackdropClick &&\n            target &&\n            container &&\n            (target === container ||\n                (Array.from(container.children).find((x) => x === target) &&\n                    target.classList.contains(cssClass(CLASS_SLIDE_WRAPPER))))) {\n            close();\n        }\n    };\n    return (React.createElement(\"div\", { ref: containerRef, className: clsx(cssClass(cssSlidePrefix()), offset === 0 && cssClass(cssSlidePrefix(\"current\")), cssClass(CLASS_FLEX_CENTER)), onClick: handleBackdropClick, style: style }, renderSlide()));\n}\nfunction Placeholder() {\n    const style = useLightboxProps().styles.slide;\n    return React.createElement(\"div\", { className: cssClass(\"slide\"), style: style });\n}\nfunction Carousel({ carousel }) {\n    const { slides, currentIndex, globalIndex } = useLightboxState();\n    const { setCarouselRef } = useController();\n    const spacingValue = parseLengthPercentage(carousel.spacing);\n    const paddingValue = parseLengthPercentage(carousel.padding);\n    const preload = calculatePreload(carousel, slides, 1);\n    const items = [];\n    if (hasSlides(slides)) {\n        for (let index = currentIndex - preload; index <= currentIndex + preload; index += 1) {\n            const slide = getSlide(slides, index);\n            const key = globalIndex - currentIndex + index;\n            const placeholder = carousel.finite && (index < 0 || index > slides.length - 1);\n            items.push(!placeholder\n                ? {\n                    key: [`${key}`, getSlideKey(slide)].filter(Boolean).join(\"|\"),\n                    offset: index - currentIndex,\n                    slide,\n                }\n                : { key });\n        }\n    }\n    return (React.createElement(\"div\", { ref: setCarouselRef, className: clsx(cssClass(cssPrefix$2()), items.length > 0 && cssClass(cssPrefix$2(\"with_slides\"))), style: {\n            [`${cssVar(cssPrefix$2(\"slides_count\"))}`]: items.length,\n            [`${cssVar(cssPrefix$2(\"spacing_px\"))}`]: spacingValue.pixel || 0,\n            [`${cssVar(cssPrefix$2(\"spacing_percent\"))}`]: spacingValue.percent || 0,\n            [`${cssVar(cssPrefix$2(\"padding_px\"))}`]: paddingValue.pixel || 0,\n            [`${cssVar(cssPrefix$2(\"padding_percent\"))}`]: paddingValue.percent || 0,\n        } }, items.map(({ key, slide, offset }) => slide ? React.createElement(CarouselSlide, { key: key, slide: slide, offset: offset }) : React.createElement(Placeholder, { key: key }))));\n}\nconst CarouselModule = createModule(MODULE_CAROUSEL, Carousel);\n\nfunction useNavigationState() {\n    const { carousel } = useLightboxProps();\n    const { slides, currentIndex } = useLightboxState();\n    const prevDisabled = slides.length === 0 || (carousel.finite && currentIndex === 0);\n    const nextDisabled = slides.length === 0 || (carousel.finite && currentIndex === slides.length - 1);\n    return { prevDisabled, nextDisabled };\n}\n\nfunction useKeyboardNavigation(subscribeSensors) {\n    var _a;\n    const isRTL = useRTL();\n    const { publish } = useEvents();\n    const { animation } = useLightboxProps();\n    const { prevDisabled, nextDisabled } = useNavigationState();\n    const throttle = ((_a = animation.navigation) !== null && _a !== void 0 ? _a : animation.swipe) / 2;\n    const prev = useThrottle(() => publish(ACTION_PREV), throttle);\n    const next = useThrottle(() => publish(ACTION_NEXT), throttle);\n    const handleKeyDown = useEventCallback((event) => {\n        switch (event.key) {\n            case VK_ESCAPE:\n                publish(ACTION_CLOSE);\n                break;\n            case VK_ARROW_LEFT:\n                if (!(isRTL ? nextDisabled : prevDisabled))\n                    (isRTL ? next : prev)();\n                break;\n            case VK_ARROW_RIGHT:\n                if (!(isRTL ? prevDisabled : nextDisabled))\n                    (isRTL ? prev : next)();\n                break;\n            default:\n        }\n    });\n    React.useEffect(() => subscribeSensors(EVENT_ON_KEY_DOWN, handleKeyDown), [subscribeSensors, handleKeyDown]);\n}\n\nfunction NavigationButton({ label, icon, renderIcon, action, onClick, disabled, style }) {\n    return (React.createElement(IconButton, { label: label, icon: icon, renderIcon: renderIcon, className: cssClass(`navigation_${action}`), disabled: disabled, onClick: onClick, style: style, ...useLoseFocus(useController().focus, disabled) }));\n}\nfunction Navigation({ render: { buttonPrev, buttonNext, iconPrev, iconNext }, styles }) {\n    const { prev, next, subscribeSensors } = useController();\n    const { prevDisabled, nextDisabled } = useNavigationState();\n    useKeyboardNavigation(subscribeSensors);\n    return (React.createElement(React.Fragment, null,\n        buttonPrev ? (buttonPrev()) : (React.createElement(NavigationButton, { label: \"Previous\", action: ACTION_PREV, icon: PreviousIcon, renderIcon: iconPrev, style: styles.navigationPrev, disabled: prevDisabled, onClick: prev })),\n        buttonNext ? (buttonNext()) : (React.createElement(NavigationButton, { label: \"Next\", action: ACTION_NEXT, icon: NextIcon, renderIcon: iconNext, style: styles.navigationNext, disabled: nextDisabled, onClick: next }))));\n}\nconst NavigationModule = createModule(MODULE_NAVIGATION, Navigation);\n\nconst noScroll = cssClass(CLASS_NO_SCROLL);\nconst noScrollPadding = cssClass(CLASS_NO_SCROLL_PADDING);\nfunction isHTMLElement(element) {\n    return \"style\" in element;\n}\nfunction padScrollbar(element, padding, rtl) {\n    const styles = window.getComputedStyle(element);\n    const property = rtl ? \"padding-left\" : \"padding-right\";\n    const computedValue = rtl ? styles.paddingLeft : styles.paddingRight;\n    const originalValue = element.style.getPropertyValue(property);\n    element.style.setProperty(property, `${(parseInt(computedValue) || 0) + padding}px`);\n    return () => {\n        if (originalValue) {\n            element.style.setProperty(property, originalValue);\n        }\n        else {\n            element.style.removeProperty(property);\n        }\n    };\n}\nfunction NoScroll({ noScroll: { disabled }, children }) {\n    const rtl = useRTL();\n    useLayoutEffect(() => {\n        if (disabled)\n            return () => { };\n        const cleanup = [];\n        const { body, documentElement } = document;\n        const scrollbar = Math.round(window.innerWidth - documentElement.clientWidth);\n        if (scrollbar > 0) {\n            cleanup.push(padScrollbar(body, scrollbar, rtl));\n            const elements = body.getElementsByTagName(\"*\");\n            for (let i = 0; i < elements.length; i += 1) {\n                const element = elements[i];\n                if (isHTMLElement(element) &&\n                    window.getComputedStyle(element).getPropertyValue(\"position\") === \"fixed\" &&\n                    !element.classList.contains(noScrollPadding)) {\n                    cleanup.push(padScrollbar(element, scrollbar, rtl));\n                }\n            }\n        }\n        body.classList.add(noScroll);\n        return () => {\n            body.classList.remove(noScroll);\n            cleanup.forEach((clean) => clean());\n        };\n    }, [rtl, disabled]);\n    return React.createElement(React.Fragment, null, children);\n}\nconst NoScrollModule = createModule(MODULE_NO_SCROLL, NoScroll);\n\nfunction cssPrefix$1(value) {\n    return composePrefix(MODULE_PORTAL, value);\n}\nfunction setAttribute(element, attribute, value) {\n    const previousValue = element.getAttribute(attribute);\n    element.setAttribute(attribute, value);\n    return () => {\n        if (previousValue) {\n            element.setAttribute(attribute, previousValue);\n        }\n        else {\n            element.removeAttribute(attribute);\n        }\n    };\n}\nfunction Portal({ children, animation, styles, className, on, portal, close }) {\n    const [mounted, setMounted] = React.useState(false);\n    const [visible, setVisible] = React.useState(false);\n    const cleanup = React.useRef([]);\n    const restoreFocus = React.useRef(null);\n    const { setTimeout } = useTimeouts();\n    const { subscribe } = useEvents();\n    const reduceMotion = useMotionPreference();\n    const animationDuration = !reduceMotion ? animation.fade : 0;\n    React.useEffect(() => {\n        setMounted(true);\n        return () => {\n            setMounted(false);\n            setVisible(false);\n        };\n    }, []);\n    const handleCleanup = useEventCallback(() => {\n        cleanup.current.forEach((clean) => clean());\n        cleanup.current = [];\n    });\n    const handleClose = useEventCallback(() => {\n        var _a;\n        setVisible(false);\n        handleCleanup();\n        (_a = on.exiting) === null || _a === void 0 ? void 0 : _a.call(on);\n        setTimeout(() => {\n            var _a;\n            (_a = on.exited) === null || _a === void 0 ? void 0 : _a.call(on);\n            close();\n        }, animationDuration);\n    });\n    React.useEffect(() => subscribe(ACTION_CLOSE, handleClose), [subscribe, handleClose]);\n    const handleEnter = useEventCallback((node) => {\n        var _a, _b, _c;\n        node.scrollTop;\n        setVisible(true);\n        (_a = on.entering) === null || _a === void 0 ? void 0 : _a.call(on);\n        const elements = (_c = (_b = node.parentNode) === null || _b === void 0 ? void 0 : _b.children) !== null && _c !== void 0 ? _c : [];\n        for (let i = 0; i < elements.length; i += 1) {\n            const element = elements[i];\n            if ([\"TEMPLATE\", \"SCRIPT\", \"STYLE\"].indexOf(element.tagName) === -1 && element !== node) {\n                cleanup.current.push(setAttribute(element, \"inert\", \"true\"));\n                cleanup.current.push(setAttribute(element, \"aria-hidden\", \"true\"));\n            }\n        }\n        cleanup.current.push(() => {\n            var _a, _b;\n            (_b = (_a = restoreFocus.current) === null || _a === void 0 ? void 0 : _a.focus) === null || _b === void 0 ? void 0 : _b.call(_a);\n        });\n        setTimeout(() => {\n            var _a;\n            (_a = on.entered) === null || _a === void 0 ? void 0 : _a.call(on);\n        }, animationDuration);\n    });\n    const handleRef = React.useCallback((node) => {\n        if (node) {\n            handleEnter(node);\n        }\n        else {\n            handleCleanup();\n        }\n    }, [handleEnter, handleCleanup]);\n    return mounted\n        ? createPortal(React.createElement(\"div\", { ref: handleRef, className: clsx(className, cssClass(\"root\"), cssClass(cssPrefix$1()), cssClass(CLASS_NO_SCROLL_PADDING), visible && cssClass(cssPrefix$1(\"open\"))), role: \"presentation\", \"aria-live\": \"polite\", style: {\n                ...(animation.fade !== LightboxDefaultProps.animation.fade\n                    ? { [cssVar(\"fade_animation_duration\")]: `${animationDuration}ms` }\n                    : null),\n                ...(animation.easing.fade !== LightboxDefaultProps.animation.easing.fade\n                    ? { [cssVar(\"fade_animation_timing_function\")]: animation.easing.fade }\n                    : null),\n                ...styles.root,\n            }, onFocus: (event) => {\n                if (!restoreFocus.current) {\n                    restoreFocus.current = event.relatedTarget;\n                }\n            } }, children), portal.root || document.body)\n        : null;\n}\nconst PortalModule = createModule(MODULE_PORTAL, Portal);\n\nfunction Root({ children }) {\n    return React.createElement(React.Fragment, null, children);\n}\nconst RootModule = createModule(MODULE_ROOT, Root);\n\nfunction cssPrefix(value) {\n    return composePrefix(MODULE_TOOLBAR, value);\n}\nfunction Toolbar({ toolbar: { buttons }, render: { buttonClose, iconClose }, styles }) {\n    const { close, setToolbarWidth } = useController();\n    const { setContainerRef, containerRect } = useContainerRect();\n    useLayoutEffect(() => {\n        setToolbarWidth(containerRect === null || containerRect === void 0 ? void 0 : containerRect.width);\n    }, [setToolbarWidth, containerRect === null || containerRect === void 0 ? void 0 : containerRect.width]);\n    const renderCloseButton = () => {\n        if (buttonClose)\n            return buttonClose();\n        return React.createElement(IconButton, { key: ACTION_CLOSE, label: \"Close\", icon: CloseIcon, renderIcon: iconClose, onClick: close });\n    };\n    return (React.createElement(\"div\", { ref: setContainerRef, style: styles.toolbar, className: cssClass(cssPrefix()) }, buttons === null || buttons === void 0 ? void 0 : buttons.map((button) => (button === ACTION_CLOSE ? renderCloseButton() : button))));\n}\nconst ToolbarModule = createModule(MODULE_TOOLBAR, Toolbar);\n\nfunction renderNode(node, props) {\n    var _a;\n    return React.createElement(node.module.component, { key: node.module.name, ...props }, (_a = node.children) === null || _a === void 0 ? void 0 : _a.map((child) => renderNode(child, props)));\n}\nfunction mergeAnimation(defaultAnimation, animation = {}) {\n    const { easing: defaultAnimationEasing, ...restDefaultAnimation } = defaultAnimation;\n    const { easing, ...restAnimation } = animation;\n    return {\n        easing: { ...defaultAnimationEasing, ...easing },\n        ...restDefaultAnimation,\n        ...restAnimation,\n    };\n}\nfunction Lightbox({ carousel, animation, render, toolbar, controller, noScroll, on, plugins, slides, index, ...restProps }) {\n    const { animation: defaultAnimation, carousel: defaultCarousel, render: defaultRender, toolbar: defaultToolbar, controller: defaultController, noScroll: defaultNoScroll, on: defaultOn, slides: defaultSlides, index: defaultIndex, plugins: defaultPlugins, ...restDefaultProps } = LightboxDefaultProps;\n    const { config, augmentation } = withPlugins([\n        createNode(PortalModule, [\n            createNode(NoScrollModule, [\n                createNode(ControllerModule, [\n                    createNode(CarouselModule),\n                    createNode(ToolbarModule),\n                    createNode(NavigationModule),\n                ]),\n            ]),\n        ]),\n    ], plugins || defaultPlugins);\n    const props = augmentation({\n        animation: mergeAnimation(defaultAnimation, animation),\n        carousel: { ...defaultCarousel, ...carousel },\n        render: { ...defaultRender, ...render },\n        toolbar: { ...defaultToolbar, ...toolbar },\n        controller: { ...defaultController, ...controller },\n        noScroll: { ...defaultNoScroll, ...noScroll },\n        on: { ...defaultOn, ...on },\n        ...restDefaultProps,\n        ...restProps,\n    });\n    if (!props.open)\n        return null;\n    return (React.createElement(LightboxPropsProvider, { ...props },\n        React.createElement(LightboxStateProvider, { slides: slides || defaultSlides, index: parseInt(index || defaultIndex) },\n            React.createElement(TimeoutsProvider, null,\n                React.createElement(EventsProvider, null, renderNode(createNode(RootModule, config), props))))));\n}\n\nexport { ACTION_CLOSE, ACTION_NEXT, ACTION_PREV, ACTION_SWIPE, CLASS_FLEX_CENTER, CLASS_NO_SCROLL, CLASS_NO_SCROLL_PADDING, CLASS_SLIDE_WRAPPER, Carousel, CarouselModule, CloseIcon, Controller, ControllerContext, ControllerModule, ELEMENT_BUTTON, ELEMENT_ICON, EVENT_ON_KEY_DOWN, EVENT_ON_KEY_UP, EVENT_ON_POINTER_CANCEL, EVENT_ON_POINTER_DOWN, EVENT_ON_POINTER_LEAVE, EVENT_ON_POINTER_MOVE, EVENT_ON_POINTER_UP, EVENT_ON_WHEEL, ErrorIcon, EventsContext, EventsProvider, IMAGE_FIT_CONTAIN, IMAGE_FIT_COVER, IconButton, ImageSlide, Lightbox, LightboxDefaultProps, LightboxDispatchContext, LightboxPropsContext, LightboxPropsProvider, LightboxStateContext, LightboxStateProvider, LoadingIcon, MODULE_CAROUSEL, MODULE_CONTROLLER, MODULE_NAVIGATION, MODULE_NO_SCROLL, MODULE_PORTAL, MODULE_ROOT, MODULE_TOOLBAR, Navigation, NavigationButton, NavigationModule, NextIcon, NoScroll, NoScrollModule, Portal, PortalModule, PreviousIcon, Root, RootModule, SLIDE_STATUS_COMPLETE, SLIDE_STATUS_ERROR, SLIDE_STATUS_LOADING, SLIDE_STATUS_PLACEHOLDER, SwipeState, TimeoutsContext, TimeoutsProvider, Toolbar, ToolbarModule, UNKNOWN_ACTION_TYPE, VK_ARROW_LEFT, VK_ARROW_RIGHT, VK_ESCAPE, activeSlideStatus, addToolbarButton, calculatePreload, cleanup, clsx, composePrefix, computeSlideRect, createIcon, createIconDisabled, createModule, createNode, cssClass, cssVar, Lightbox as default, devicePixelRatio, getSlide, getSlideIfPresent, getSlideIndex, getSlideKey, hasSlides, hasWindow, isImageFitCover, isImageSlide, label, makeComposePrefix, makeUseContext, parseInt, parseLengthPercentage, round, setRef, stopNavigationEventsPropagation, useAnimation, useContainerRect, useController, useDelay, useEventCallback, useEvents, useForkRef, useKeyboardNavigation, useLayoutEffect, useLightboxDispatch, useLightboxProps, useLightboxState, useLoseFocus, useMotionPreference, useNavigationState, usePointerEvents, usePointerSwipe, usePreventWheelDefaults, useRTL, useSensors, useThrottle, useTimeouts, useWheelSwipe, withPlugins };","import { makeUseContext, useLightboxState, useTimeouts, useEvents, useController, useEventCallback, cleanup, createIcon, useLightboxProps, useLoseFocus, IconButton, addToolbarButton, createModule } from '../../index.js';\nimport * as React from 'react';\nimport { SLIDE_STATUS_LOADING, SLIDE_STATUS_PLAYING, ACTIVE_SLIDE_LOADING, ACTIVE_SLIDE_PLAYING, ACTIVE_SLIDE_ERROR, SLIDE_STATUS_ERROR, ACTIVE_SLIDE_COMPLETE, SLIDE_STATUS_COMPLETE, PLUGIN_SLIDESHOW } from '../../types.js';\n\nconst defaultSlideshowProps = {\n    autoplay: false,\n    delay: 3000,\n    ref: null,\n};\nconst resolveSlideshowProps = (slideshow) => ({\n    ...defaultSlideshowProps,\n    ...slideshow,\n});\n\nconst SlideshowContext = React.createContext(null);\nconst useSlideshow = makeUseContext(\"useSlideshow\", \"SlideshowContext\", SlideshowContext);\nfunction SlideshowContextProvider({ slideshow, carousel: { finite }, on, children }) {\n    const { autoplay, delay, ref } = resolveSlideshowProps(slideshow);\n    const wasPlaying = React.useRef(autoplay);\n    const [playing, setPlaying] = React.useState(autoplay);\n    const scheduler = React.useRef();\n    const slideStatus = React.useRef();\n    const { slides, currentIndex } = useLightboxState();\n    const { setTimeout, clearTimeout } = useTimeouts();\n    const { subscribe } = useEvents();\n    const { next } = useController();\n    const disabled = slides.length === 0 || (finite && currentIndex === slides.length - 1);\n    const play = React.useCallback(() => {\n        if (!playing && !disabled) {\n            setPlaying(true);\n        }\n    }, [playing, disabled]);\n    const pause = React.useCallback(() => {\n        if (playing) {\n            setPlaying(false);\n        }\n    }, [playing]);\n    const cancelScheduler = React.useCallback(() => {\n        clearTimeout(scheduler.current);\n        scheduler.current = undefined;\n    }, [clearTimeout]);\n    const scheduleNextSlide = useEventCallback(() => {\n        cancelScheduler();\n        if (!playing ||\n            disabled ||\n            slideStatus.current === SLIDE_STATUS_LOADING ||\n            slideStatus.current === SLIDE_STATUS_PLAYING) {\n            return;\n        }\n        scheduler.current = setTimeout(() => {\n            if (playing) {\n                slideStatus.current = undefined;\n                next();\n            }\n        }, delay);\n    });\n    React.useEffect(scheduleNextSlide, [currentIndex, playing, scheduleNextSlide]);\n    React.useEffect(() => {\n        if (playing && disabled) {\n            setPlaying(false);\n        }\n    }, [currentIndex, playing, disabled]);\n    const onSlideshowStart = useEventCallback(() => { var _a; return (_a = on.slideshowStart) === null || _a === void 0 ? void 0 : _a.call(on); });\n    const onSlideshowStop = useEventCallback(() => { var _a; return (_a = on.slideshowStop) === null || _a === void 0 ? void 0 : _a.call(on); });\n    React.useEffect(() => {\n        if (playing) {\n            onSlideshowStart();\n        }\n        else if (wasPlaying.current) {\n            onSlideshowStop();\n        }\n        wasPlaying.current = playing;\n    }, [playing, onSlideshowStart, onSlideshowStop]);\n    React.useEffect(() => cleanup(cancelScheduler, subscribe(ACTIVE_SLIDE_LOADING, () => {\n        slideStatus.current = SLIDE_STATUS_LOADING;\n        cancelScheduler();\n    }), subscribe(ACTIVE_SLIDE_PLAYING, () => {\n        slideStatus.current = SLIDE_STATUS_PLAYING;\n        cancelScheduler();\n    }), subscribe(ACTIVE_SLIDE_ERROR, () => {\n        slideStatus.current = SLIDE_STATUS_ERROR;\n        scheduleNextSlide();\n    }), subscribe(ACTIVE_SLIDE_COMPLETE, () => {\n        slideStatus.current = SLIDE_STATUS_COMPLETE;\n        scheduleNextSlide();\n    })), [subscribe, cancelScheduler, scheduleNextSlide]);\n    const context = React.useMemo(() => ({ playing, disabled, play, pause }), [playing, disabled, play, pause]);\n    React.useImperativeHandle(ref, () => context, [context]);\n    return React.createElement(SlideshowContext.Provider, { value: context }, children);\n}\n\nconst PlayIcon = createIcon(\"Play\", React.createElement(\"path\", { d: \"M8 5v14l11-7z\" }));\nconst PauseIcon = createIcon(\"Pause\", React.createElement(\"path\", { d: \"M6 19h4V5H6v14zm8-14v14h4V5h-4z\" }));\nfunction SlideshowButton() {\n    const { playing, disabled, play, pause } = useSlideshow();\n    const { render } = useLightboxProps();\n    const focusListeners = useLoseFocus(useController().focus, disabled);\n    if (render.buttonSlideshow) {\n        return React.createElement(React.Fragment, null, render.buttonSlideshow({ playing, disabled, play, pause }));\n    }\n    return (React.createElement(IconButton, { label: playing ? \"Pause\" : \"Play\", icon: playing ? PauseIcon : PlayIcon, renderIcon: playing ? render.iconSlideshowPause : render.iconSlideshowPlay, onClick: playing ? pause : play, disabled: disabled, ...focusListeners }));\n}\n\nfunction Slideshow({ augment, addModule }) {\n    augment(({ slideshow, toolbar, ...restProps }) => ({\n        toolbar: addToolbarButton(toolbar, PLUGIN_SLIDESHOW, React.createElement(SlideshowButton, null)),\n        slideshow: resolveSlideshowProps(slideshow),\n        ...restProps,\n    }));\n    addModule(createModule(PLUGIN_SLIDESHOW, SlideshowContextProvider));\n}\n\nexport { Slideshow as default };\n","import { useLightboxProps, composePrefix, createIcon, cssClass, isImageSlide, ImageSlide, makeComposePrefix, useEventCallback, clsx, cssVar, useRTL, useEvents, useLightboxState, useSensors, useKeyboardNavigation, useAnimation, cleanup, calculatePreload, hasSlides, getSlide, getSlideKey, makeUseContext, LightboxPropsProvider, createIconDisabled, IconButton, addToolbarButton, createModule } from '../../index.js';\nimport * as React from 'react';\nimport { PLUGIN_THUMBNAILS, ELEMENT_ICON, CLASS_FLEX_CENTER, ACTION_SWIPE, ACTION_NEXT, ACTION_PREV, PLUGIN_FULLSCREEN, MODULE_CONTROLLER } from '../../types.js';\n\nconst defaultThumbnailsProps = {\n    ref: null,\n    position: \"bottom\",\n    width: 120,\n    height: 80,\n    border: 1,\n    borderRadius: 4,\n    padding: 4,\n    gap: 16,\n    imageFit: \"contain\",\n    vignette: true,\n};\nconst resolveThumbnailsProps = (thumbnails) => ({\n    ...defaultThumbnailsProps,\n    ...thumbnails,\n});\nfunction useThumbnailsProps() {\n    const { thumbnails } = useLightboxProps();\n    return resolveThumbnailsProps(thumbnails);\n}\n\nconst cssPrefix = (value) => composePrefix(PLUGIN_THUMBNAILS, value);\nconst cssThumbnailPrefix = (value) => cssPrefix(composePrefix(\"thumbnail\", value));\n\nconst VideoThumbnailIcon = createIcon(\"VideoThumbnail\", React.createElement(\"path\", { d: \"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\" }));\nconst UnknownThumbnailIcon = createIcon(\"UnknownThumbnail\", React.createElement(\"path\", { d: \"M23 18V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zM8.5 12.5l2.5 3.01L14.5 11l4.5 6H5l3.5-4.5z\" }));\nfunction renderThumbnail({ slide, render, rect, imageFit }) {\n    var _a;\n    const customThumbnail = (_a = render.thumbnail) === null || _a === void 0 ? void 0 : _a.call(render, { slide, render, rect, imageFit });\n    if (customThumbnail) {\n        return customThumbnail;\n    }\n    const thumbnailIconClass = cssClass(cssThumbnailPrefix(ELEMENT_ICON));\n    if (isImageSlide(slide)) {\n        return React.createElement(ImageSlide, { slide: slide, render: render, rect: rect, imageFit: imageFit });\n    }\n    if (slide.type === \"video\") {\n        return (React.createElement(React.Fragment, null,\n            slide.poster && (React.createElement(ImageSlide, { key: slide.poster, slide: { src: slide.poster }, render: render, rect: rect, imageFit: imageFit })),\n            React.createElement(VideoThumbnailIcon, { className: thumbnailIconClass })));\n    }\n    return React.createElement(UnknownThumbnailIcon, { className: thumbnailIconClass });\n}\nconst activePrefix = makeComposePrefix(\"active\");\nconst fadeInPrefix = makeComposePrefix(\"fadein\");\nconst fadeOutPrefix = makeComposePrefix(\"fadeout\");\nconst placeholderPrefix = makeComposePrefix(\"placeholder\");\nconst DELAY = \"delay\";\nconst DURATION = \"duration\";\nfunction Thumbnail({ slide, onClick, active, fadeIn, fadeOut, placeholder, onLoseFocus }) {\n    const ref = React.useRef(null);\n    const { render, styles } = useLightboxProps();\n    const { width, height, imageFit } = useThumbnailsProps();\n    const rect = { width, height };\n    const onLoseFocusCallback = useEventCallback(onLoseFocus);\n    React.useEffect(() => {\n        if (fadeOut && document.activeElement === ref.current) {\n            onLoseFocusCallback();\n        }\n    }, [fadeOut, onLoseFocusCallback]);\n    return (React.createElement(\"button\", { ref: ref, type: \"button\", className: clsx(cssClass(CLASS_FLEX_CENTER), cssClass(cssThumbnailPrefix()), active && cssClass(cssThumbnailPrefix(activePrefix())), fadeIn && cssClass(cssThumbnailPrefix(fadeInPrefix())), fadeOut && cssClass(cssThumbnailPrefix(fadeOutPrefix())), placeholder && cssClass(cssThumbnailPrefix(placeholderPrefix()))), style: {\n            ...(fadeIn\n                ? {\n                    [cssVar(cssThumbnailPrefix(fadeInPrefix(DURATION)))]: `${fadeIn.duration}ms`,\n                    [cssVar(cssThumbnailPrefix(fadeInPrefix(DELAY)))]: `${fadeIn.delay}ms`,\n                }\n                : null),\n            ...(fadeOut\n                ? {\n                    [cssVar(cssThumbnailPrefix(fadeOutPrefix(DURATION)))]: `${fadeOut.duration}ms`,\n                    [cssVar(cssThumbnailPrefix(fadeOutPrefix(DELAY)))]: `${fadeOut.delay}ms`,\n                }\n                : null),\n            ...styles.thumbnail,\n        }, onClick: onClick }, slide && renderThumbnail({ slide, render, rect, imageFit })));\n}\n\nfunction isHorizontal(position) {\n    return [\"top\", \"bottom\"].includes(position);\n}\nfunction boxSize(thumbnails, dimension) {\n    return dimension + 2 * (thumbnails.border + thumbnails.padding) + thumbnails.gap;\n}\nfunction ThumbnailsTrack({ visible, containerRef }) {\n    const track = React.useRef(null);\n    const isRTL = useRTL();\n    const { publish, subscribe } = useEvents();\n    const { carousel, styles } = useLightboxProps();\n    const { slides, globalIndex, animation } = useLightboxState();\n    const { registerSensors, subscribeSensors } = useSensors();\n    useKeyboardNavigation(subscribeSensors);\n    const thumbnails = useThumbnailsProps();\n    const { position, width, height, border, borderStyle, borderColor, borderRadius, padding, gap, vignette } = thumbnails;\n    const animationDuration = (animation === null || animation === void 0 ? void 0 : animation.duration) || 0;\n    const offset = (animationDuration > 0 && (animation === null || animation === void 0 ? void 0 : animation.increment)) || 0;\n    const { prepareAnimation } = useAnimation(track, (snapshot) => ({\n        keyframes: isHorizontal(position)\n            ? [\n                {\n                    transform: `translateX(${(isRTL ? -1 : 1) * boxSize(thumbnails, width) * offset + snapshot}px)`,\n                },\n                { transform: \"translateX(0)\" },\n            ]\n            : [\n                {\n                    transform: `translateY(${boxSize(thumbnails, height) * offset + snapshot}px)`,\n                },\n                { transform: \"translateY(0)\" },\n            ],\n        duration: animationDuration,\n        easing: animation === null || animation === void 0 ? void 0 : animation.easing,\n    }));\n    const handleControllerSwipe = useEventCallback(() => {\n        let animationOffset = 0;\n        if (containerRef.current && track.current) {\n            const containerRect = containerRef.current.getBoundingClientRect();\n            const trackRect = track.current.getBoundingClientRect();\n            animationOffset = isHorizontal(position)\n                ? trackRect.left - containerRect.left - (containerRect.width - trackRect.width) / 2\n                : trackRect.top - containerRect.top - (containerRect.height - trackRect.height) / 2;\n        }\n        prepareAnimation(animationOffset);\n    });\n    React.useEffect(() => cleanup(subscribe(ACTION_SWIPE, handleControllerSwipe)), [subscribe, handleControllerSwipe]);\n    const preload = calculatePreload(carousel, slides);\n    const items = [];\n    if (hasSlides(slides)) {\n        for (let index = globalIndex - preload - Math.abs(offset); index <= globalIndex + preload + Math.abs(offset); index += 1) {\n            const placeholder = (carousel.finite && (index < 0 || index > slides.length - 1)) ||\n                (offset < 0 && index < globalIndex - preload) ||\n                (offset > 0 && index > globalIndex + preload);\n            const slide = !placeholder ? getSlide(slides, index) : null;\n            const key = [`${index}`, slide ? getSlideKey(slide) : \"placeholder\"].filter(Boolean).join(\"|\");\n            items.push({ key, index, slide });\n        }\n    }\n    const handleClick = (slideIndex) => () => {\n        if (slideIndex > globalIndex) {\n            publish(ACTION_NEXT, { count: slideIndex - globalIndex });\n        }\n        else if (slideIndex < globalIndex) {\n            publish(ACTION_PREV, { count: globalIndex - slideIndex });\n        }\n    };\n    return (React.createElement(\"div\", { className: clsx(cssClass(cssPrefix(\"container\")), cssClass(CLASS_FLEX_CENTER)), style: {\n            ...(!visible ? { display: \"none\" } : null),\n            ...(width !== defaultThumbnailsProps.width ? { [cssVar(cssThumbnailPrefix(\"width\"))]: `${width}px` } : null),\n            ...(height !== defaultThumbnailsProps.height\n                ? { [cssVar(cssThumbnailPrefix(\"height\"))]: `${height}px` }\n                : null),\n            ...(border !== defaultThumbnailsProps.border\n                ? { [cssVar(cssThumbnailPrefix(\"border\"))]: `${border}px` }\n                : null),\n            ...(borderStyle ? { [cssVar(cssThumbnailPrefix(\"border_style\"))]: borderStyle } : null),\n            ...(borderColor ? { [cssVar(cssThumbnailPrefix(\"border_color\"))]: borderColor } : null),\n            ...(borderRadius !== defaultThumbnailsProps.borderRadius\n                ? { [cssVar(cssThumbnailPrefix(\"border_radius\"))]: `${borderRadius}px` }\n                : null),\n            ...(padding !== defaultThumbnailsProps.padding\n                ? { [cssVar(cssThumbnailPrefix(\"padding\"))]: `${padding}px` }\n                : null),\n            ...(gap !== defaultThumbnailsProps.gap ? { [cssVar(cssThumbnailPrefix(\"gap\"))]: `${gap}px` } : null),\n            ...styles.thumbnailsContainer,\n        } },\n        React.createElement(\"nav\", { ref: track, style: styles.thumbnailsTrack, className: clsx(cssClass(cssPrefix(\"track\")), cssClass(CLASS_FLEX_CENTER)), tabIndex: -1, ...registerSensors }, items.map(({ key, index, slide }) => {\n            const fadeAnimationDuration = animationDuration / Math.abs(offset || 1);\n            const fadeIn = (offset > 0 && index > globalIndex + preload - offset && index <= globalIndex + preload) ||\n                (offset < 0 && index < globalIndex - preload - offset && index >= globalIndex - preload)\n                ? {\n                    duration: fadeAnimationDuration,\n                    delay: ((offset > 0 ? index - (globalIndex + preload - offset) : globalIndex - preload - offset - index) -\n                        1) *\n                        fadeAnimationDuration,\n                }\n                : undefined;\n            const fadeOut = (offset > 0 && index < globalIndex - preload) || (offset < 0 && index > globalIndex + preload)\n                ? {\n                    duration: fadeAnimationDuration,\n                    delay: (offset > 0\n                        ? offset - (globalIndex - preload - index)\n                        : -offset - (index - (globalIndex + preload))) * fadeAnimationDuration,\n                }\n                : undefined;\n            return (React.createElement(Thumbnail, { key: key, slide: slide, active: index === globalIndex, fadeIn: fadeIn, fadeOut: fadeOut, placeholder: !slide, onClick: handleClick(index), onLoseFocus: () => { var _a; return (_a = track.current) === null || _a === void 0 ? void 0 : _a.focus(); } }));\n        })),\n        vignette && React.createElement(\"div\", { className: cssClass(cssPrefix(\"vignette\")) })));\n}\n\nconst ThumbnailsContext = React.createContext(null);\nconst useThumbnails = makeUseContext(\"useThumbnails\", \"ThumbnailsContext\", ThumbnailsContext);\nfunction ThumbnailsContextProvider({ children, ...props }) {\n    const [visible, setVisible] = React.useState(true);\n    const containerRef = React.useRef(null);\n    const { ref, position } = resolveThumbnailsProps(props.thumbnails);\n    const context = React.useMemo(() => ({\n        visible,\n        show: () => setVisible(true),\n        hide: () => setVisible(false),\n    }), [visible]);\n    React.useImperativeHandle(ref, () => context, [context]);\n    return (React.createElement(LightboxPropsProvider, { ...props },\n        React.createElement(ThumbnailsContext.Provider, { value: context },\n            React.createElement(\"div\", { ref: containerRef, className: clsx(cssClass(cssPrefix()), cssClass(cssPrefix(`${position}`))) },\n                [\"start\", \"top\"].includes(position) && React.createElement(ThumbnailsTrack, { containerRef: containerRef, visible: visible }),\n                React.createElement(\"div\", { className: cssClass(cssPrefix(\"wrapper\")) }, children),\n                [\"end\", \"bottom\"].includes(position) && React.createElement(ThumbnailsTrack, { containerRef: containerRef, visible: visible })))));\n}\n\nconst thumbnailsIcon = () => (React.createElement(React.Fragment, null,\n    React.createElement(\"path\", { strokeWidth: 2, stroke: \"currentColor\", strokeLinejoin: \"round\", fill: \"none\", d: \"M3 5l18 0l0 14l-18 0l0-14z\" }),\n    React.createElement(\"path\", { d: \"M5 14h4v3h-4zM10 14h4v3h-4zM15 14h4v3h-4z\" })));\nconst ThumbnailsVisible = createIcon(\"ThumbnailsVisible\", thumbnailsIcon());\nconst ThumbnailsHidden = createIconDisabled(\"ThumbnailsHidden\", thumbnailsIcon());\nfunction ThumbnailsButton() {\n    const { visible, show, hide } = useThumbnails();\n    const { render } = useLightboxProps();\n    if (render.buttonThumbnails) {\n        return React.createElement(React.Fragment, null, render.buttonThumbnails({ visible, show, hide }));\n    }\n    return (React.createElement(IconButton, { label: visible ? \"Hide thumbnails\" : \"Show thumbnails\", icon: visible ? ThumbnailsVisible : ThumbnailsHidden, renderIcon: visible ? render.iconThumbnailsVisible : render.iconThumbnailsHidden, onClick: visible ? hide : show }));\n}\n\nfunction Thumbnails({ augment, contains, append, addParent }) {\n    augment(({ thumbnails: thumbnailsProps, toolbar, ...restProps }) => {\n        const thumbnails = resolveThumbnailsProps(thumbnailsProps);\n        return {\n            toolbar: addToolbarButton(toolbar, PLUGIN_THUMBNAILS, thumbnails.showToggle ? React.createElement(ThumbnailsButton, null) : null),\n            thumbnails,\n            ...restProps,\n        };\n    });\n    const module = createModule(PLUGIN_THUMBNAILS, ThumbnailsContextProvider);\n    if (contains(PLUGIN_FULLSCREEN)) {\n        append(PLUGIN_FULLSCREEN, module);\n    }\n    else {\n        addParent(MODULE_CONTROLLER, module);\n    }\n}\n\nexport { Thumbnails as default };\n","import { useLightboxProps, useMotionPreference, useEventCallback, useLayoutEffect, useLightboxState, isImageSlide, isImageFitCover, round, useController, usePointerEvents, cleanup, makeUseContext, createIcon, IconButton, devicePixelRatio, ImageSlide, clsx, cssClass, addToolbarButton, createModule } from '../../index.js';\nimport * as React from 'react';\nimport { EVENT_ON_KEY_DOWN, EVENT_ON_WHEEL, UNKNOWN_ACTION_TYPE, CLASS_FULLSIZE, CLASS_FLEX_CENTER, CLASS_SLIDE_WRAPPER, PLUGIN_ZOOM } from '../../types.js';\n\nconst defaultZoomProps = {\n    maxZoomPixelRatio: 1,\n    zoomInMultiplier: 2,\n    doubleTapDelay: 300,\n    doubleClickDelay: 500,\n    doubleClickMaxStops: 2,\n    keyboardMoveDistance: 50,\n    wheelZoomDistanceFactor: 100,\n    pinchZoomDistanceFactor: 100,\n    scrollToZoom: false,\n};\nconst resolveZoomProps = (zoom) => ({\n    ...defaultZoomProps,\n    ...zoom,\n});\n\nfunction useZoomAnimation(zoom, offsetX, offsetY, zoomWrapperRef) {\n    const zoomAnimation = React.useRef();\n    const zoomAnimationStart = React.useRef();\n    const { zoom: zoomAnimationDuration } = useLightboxProps().animation;\n    const reduceMotion = useMotionPreference();\n    const playZoomAnimation = useEventCallback(() => {\n        var _a, _b, _c;\n        (_a = zoomAnimation.current) === null || _a === void 0 ? void 0 : _a.cancel();\n        zoomAnimation.current = undefined;\n        if (zoomAnimationStart.current && (zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current)) {\n            try {\n                zoomAnimation.current = (_c = (_b = zoomWrapperRef.current).animate) === null || _c === void 0 ? void 0 : _c.call(_b, [\n                    { transform: zoomAnimationStart.current },\n                    { transform: `scale(${zoom}) translateX(${offsetX}px) translateY(${offsetY}px)` },\n                ], {\n                    duration: !reduceMotion ? zoomAnimationDuration !== null && zoomAnimationDuration !== void 0 ? zoomAnimationDuration : 500 : 0,\n                    easing: zoomAnimation.current ? \"ease-out\" : \"ease-in-out\",\n                });\n            }\n            catch (err) {\n                console.error(err);\n            }\n            zoomAnimationStart.current = undefined;\n            if (zoomAnimation.current) {\n                zoomAnimation.current.onfinish = () => {\n                    zoomAnimation.current = undefined;\n                };\n            }\n        }\n    });\n    useLayoutEffect(playZoomAnimation, [zoom, offsetX, offsetY, playZoomAnimation]);\n    return React.useCallback(() => {\n        zoomAnimationStart.current = (zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current)\n            ? window.getComputedStyle(zoomWrapperRef.current).transform\n            : undefined;\n    }, [zoomWrapperRef]);\n}\n\nfunction useZoomCallback(zoom, disabled) {\n    const { on } = useLightboxProps();\n    const onZoomCallback = useEventCallback(() => {\n        var _a;\n        if (!disabled) {\n            (_a = on.zoom) === null || _a === void 0 ? void 0 : _a.call(on, { zoom });\n        }\n    });\n    React.useEffect(onZoomCallback, [zoom, onZoomCallback]);\n}\n\nfunction useZoomProps() {\n    const { zoom } = useLightboxProps();\n    return resolveZoomProps(zoom);\n}\n\nfunction useZoomImageRect(slideRect, imageDimensions) {\n    var _a, _b;\n    let imageRect = { width: 0, height: 0 };\n    let maxImageRect = { width: 0, height: 0 };\n    const { currentSlide } = useLightboxState();\n    const { imageFit } = useLightboxProps().carousel;\n    const { maxZoomPixelRatio } = useZoomProps();\n    if (slideRect && currentSlide) {\n        const slide = { ...currentSlide, ...imageDimensions };\n        if (isImageSlide(slide)) {\n            const cover = isImageFitCover(slide, imageFit);\n            const width = Math.max(...(((_a = slide.srcSet) === null || _a === void 0 ? void 0 : _a.map((x) => x.width)) || []).concat(slide.width ? [slide.width] : []));\n            const height = Math.max(...(((_b = slide.srcSet) === null || _b === void 0 ? void 0 : _b.map((x) => x.height)) || []).concat(slide.height ? [slide.height] : []));\n            if (width > 0 && height > 0 && slideRect.width > 0 && slideRect.height > 0) {\n                maxImageRect = cover\n                    ? {\n                        width: Math.round(Math.min(width, (slideRect.width / slideRect.height) * height)),\n                        height: Math.round(Math.min(height, (slideRect.height / slideRect.width) * width)),\n                    }\n                    : { width, height };\n                maxImageRect = {\n                    width: maxImageRect.width * maxZoomPixelRatio,\n                    height: maxImageRect.height * maxZoomPixelRatio,\n                };\n                imageRect = cover\n                    ? {\n                        width: Math.min(slideRect.width, maxImageRect.width, width),\n                        height: Math.min(slideRect.height, maxImageRect.height, height),\n                    }\n                    : {\n                        width: Math.round(Math.min(slideRect.width, (slideRect.height / height) * width, width)),\n                        height: Math.round(Math.min(slideRect.height, (slideRect.width / width) * height, height)),\n                    };\n            }\n        }\n    }\n    const maxZoom = imageRect.width ? Math.max(round(maxImageRect.width / imageRect.width, 5), 1) : 1;\n    return { imageRect, maxZoom };\n}\n\nfunction distance(pointerA, pointerB) {\n    return ((pointerA.clientX - pointerB.clientX) ** 2 + (pointerA.clientY - pointerB.clientY) ** 2) ** 0.5;\n}\nfunction useZoomSensors(zoom, maxZoom, disabled, changeZoom, changeOffsets, zoomWrapperRef) {\n    const activePointers = React.useRef([]);\n    const lastPointerDown = React.useRef(0);\n    const pinchZoomDistance = React.useRef();\n    const { globalIndex } = useLightboxState();\n    const { containerRef, subscribeSensors } = useController();\n    const { keyboardMoveDistance, zoomInMultiplier, wheelZoomDistanceFactor, scrollToZoom, doubleTapDelay, doubleClickDelay, doubleClickMaxStops, pinchZoomDistanceFactor, } = useZoomProps();\n    const translateCoordinates = React.useCallback((event) => {\n        if (containerRef.current) {\n            const { pageX, pageY } = event;\n            const { scrollX, scrollY } = window;\n            const { left, top, width, height } = containerRef.current.getBoundingClientRect();\n            return [pageX - left - scrollX - width / 2, pageY - top - scrollY - height / 2];\n        }\n        return [];\n    }, [containerRef]);\n    const onKeyDown = useEventCallback((event) => {\n        const preventDefault = () => {\n            event.preventDefault();\n            event.stopPropagation();\n        };\n        if (zoom > 1) {\n            const move = (deltaX, deltaY) => {\n                preventDefault();\n                changeOffsets(deltaX, deltaY);\n            };\n            if (event.key === \"ArrowDown\") {\n                move(0, keyboardMoveDistance);\n            }\n            else if (event.key === \"ArrowUp\") {\n                move(0, -keyboardMoveDistance);\n            }\n            else if (event.key === \"ArrowLeft\") {\n                move(-keyboardMoveDistance, 0);\n            }\n            else if (event.key === \"ArrowRight\") {\n                move(keyboardMoveDistance, 0);\n            }\n        }\n        const handleChangeZoom = (zoomValue) => {\n            preventDefault();\n            changeZoom(zoomValue);\n        };\n        const hasMeta = () => event.getModifierState(\"Meta\");\n        if (event.key === \"+\" || (event.key === \"=\" && hasMeta())) {\n            handleChangeZoom(zoom * zoomInMultiplier);\n        }\n        else if (event.key === \"-\" || (event.key === \"_\" && hasMeta())) {\n            handleChangeZoom(zoom / zoomInMultiplier);\n        }\n        else if (event.key === \"0\" && hasMeta()) {\n            handleChangeZoom(1);\n        }\n    });\n    const onWheel = useEventCallback((event) => {\n        if (event.ctrlKey || scrollToZoom) {\n            if (Math.abs(event.deltaY) > Math.abs(event.deltaX)) {\n                event.stopPropagation();\n                changeZoom(zoom * (1 - event.deltaY / wheelZoomDistanceFactor), true, ...translateCoordinates(event));\n                return;\n            }\n        }\n        if (zoom > 1) {\n            event.stopPropagation();\n            if (!scrollToZoom) {\n                changeOffsets(event.deltaX, event.deltaY);\n            }\n        }\n    });\n    const clearPointer = React.useCallback((event) => {\n        const pointers = activePointers.current;\n        pointers.splice(0, pointers.length, ...pointers.filter((p) => p.pointerId !== event.pointerId));\n    }, []);\n    const replacePointer = React.useCallback((event) => {\n        clearPointer(event);\n        event.persist();\n        activePointers.current.push(event);\n    }, [clearPointer]);\n    const onPointerDown = useEventCallback((event) => {\n        var _a;\n        const pointers = activePointers.current;\n        if (!((_a = zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current) === null || _a === void 0 ? void 0 : _a.contains(event.target))) {\n            return;\n        }\n        if (zoom > 1) {\n            event.stopPropagation();\n        }\n        const { timeStamp } = event;\n        if (pointers.length === 0 &&\n            timeStamp - lastPointerDown.current < (event.pointerType === \"touch\" ? doubleTapDelay : doubleClickDelay)) {\n            lastPointerDown.current = 0;\n            changeZoom(zoom !== maxZoom ? zoom * Math.max(maxZoom ** (1 / doubleClickMaxStops), zoomInMultiplier) : 1, false, ...translateCoordinates(event));\n        }\n        else {\n            lastPointerDown.current = timeStamp;\n        }\n        replacePointer(event);\n        if (pointers.length === 2) {\n            pinchZoomDistance.current = distance(pointers[0], pointers[1]);\n        }\n    });\n    const onPointerMove = useEventCallback((event) => {\n        const pointers = activePointers.current;\n        const activePointer = pointers.find((p) => p.pointerId === event.pointerId);\n        if (pointers.length === 2 && pinchZoomDistance.current) {\n            event.stopPropagation();\n            replacePointer(event);\n            const currentDistance = distance(pointers[0], pointers[1]);\n            const delta = currentDistance - pinchZoomDistance.current;\n            if (Math.abs(delta) > 0) {\n                changeZoom(zoom * (1 + delta / pinchZoomDistanceFactor), true, ...pointers\n                    .map((x) => translateCoordinates(x))\n                    .reduce((acc, coordinate) => coordinate.map((x, i) => acc[i] + x / 2)));\n                pinchZoomDistance.current = currentDistance;\n            }\n            return;\n        }\n        if (zoom > 1) {\n            event.stopPropagation();\n            if (activePointer) {\n                if (pointers.length === 1) {\n                    changeOffsets((activePointer.clientX - event.clientX) / zoom, (activePointer.clientY - event.clientY) / zoom);\n                }\n                replacePointer(event);\n            }\n        }\n    });\n    const onPointerUp = React.useCallback((event) => {\n        const pointers = activePointers.current;\n        if (pointers.length === 2 && pointers.find((p) => p.pointerId === event.pointerId)) {\n            pinchZoomDistance.current = undefined;\n        }\n        clearPointer(event);\n    }, [clearPointer]);\n    const cleanupSensors = React.useCallback(() => {\n        const pointers = activePointers.current;\n        pointers.splice(0, pointers.length);\n        lastPointerDown.current = 0;\n        pinchZoomDistance.current = undefined;\n    }, []);\n    usePointerEvents(subscribeSensors, onPointerDown, onPointerMove, onPointerUp, disabled);\n    React.useEffect(cleanupSensors, [globalIndex, cleanupSensors]);\n    React.useEffect(() => {\n        if (!disabled) {\n            return cleanup(cleanupSensors, subscribeSensors(EVENT_ON_KEY_DOWN, onKeyDown), subscribeSensors(EVENT_ON_WHEEL, onWheel));\n        }\n        return () => { };\n    }, [disabled, subscribeSensors, cleanupSensors, onKeyDown, onWheel]);\n}\n\nfunction useZoomState(imageRect, maxZoom, zoomWrapperRef) {\n    const [zoom, setZoom] = React.useState(1);\n    const [offsetX, setOffsetX] = React.useState(0);\n    const [offsetY, setOffsetY] = React.useState(0);\n    const animate = useZoomAnimation(zoom, offsetX, offsetY, zoomWrapperRef);\n    const { currentSlide, globalIndex } = useLightboxState();\n    const { containerRect, slideRect } = useController();\n    const { zoomInMultiplier } = useZoomProps();\n    const currentSource = currentSlide && isImageSlide(currentSlide) ? currentSlide.src : undefined;\n    const disabled = !currentSource || !(zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current);\n    useLayoutEffect(() => {\n        setZoom(1);\n        setOffsetX(0);\n        setOffsetY(0);\n    }, [globalIndex, currentSource]);\n    const changeOffsets = React.useCallback((dx, dy, targetZoom) => {\n        const newZoom = targetZoom || zoom;\n        const newOffsetX = offsetX - (dx || 0);\n        const newOffsetY = offsetY - (dy || 0);\n        const maxOffsetX = (imageRect.width * newZoom - slideRect.width) / 2 / newZoom;\n        const maxOffsetY = (imageRect.height * newZoom - slideRect.height) / 2 / newZoom;\n        setOffsetX(Math.min(Math.abs(newOffsetX), Math.max(maxOffsetX, 0)) * Math.sign(newOffsetX));\n        setOffsetY(Math.min(Math.abs(newOffsetY), Math.max(maxOffsetY, 0)) * Math.sign(newOffsetY));\n    }, [zoom, offsetX, offsetY, slideRect, imageRect.width, imageRect.height]);\n    const changeZoom = React.useCallback((targetZoom, rapid, dx, dy) => {\n        const newZoom = round(Math.min(Math.max(targetZoom + 0.001 < maxZoom ? targetZoom : maxZoom, 1), maxZoom), 5);\n        if (newZoom === zoom)\n            return;\n        if (!rapid) {\n            animate();\n        }\n        changeOffsets(dx ? dx * (1 / zoom - 1 / newZoom) : 0, dy ? dy * (1 / zoom - 1 / newZoom) : 0, newZoom);\n        setZoom(newZoom);\n    }, [zoom, maxZoom, changeOffsets, animate]);\n    const handleControllerRectChange = useEventCallback(() => {\n        if (zoom > 1) {\n            if (zoom > maxZoom) {\n                changeZoom(maxZoom, true);\n            }\n            changeOffsets();\n        }\n    });\n    useLayoutEffect(handleControllerRectChange, [containerRect.width, containerRect.height, handleControllerRectChange]);\n    const zoomIn = React.useCallback(() => changeZoom(zoom * zoomInMultiplier), [zoom, zoomInMultiplier, changeZoom]);\n    const zoomOut = React.useCallback(() => changeZoom(zoom / zoomInMultiplier), [zoom, zoomInMultiplier, changeZoom]);\n    return { zoom, offsetX, offsetY, disabled, changeOffsets, changeZoom, zoomIn, zoomOut };\n}\n\nconst ZoomControllerContext = React.createContext(null);\nconst useZoom = makeUseContext(\"useZoom\", \"ZoomControllerContext\", ZoomControllerContext);\nfunction ZoomContextProvider({ children }) {\n    const [zoomWrapper, setZoomWrapper] = React.useState();\n    const { slideRect } = useController();\n    const { imageRect, maxZoom } = useZoomImageRect(slideRect, zoomWrapper === null || zoomWrapper === void 0 ? void 0 : zoomWrapper.imageDimensions);\n    const { zoom, offsetX, offsetY, disabled, changeZoom, changeOffsets, zoomIn, zoomOut } = useZoomState(imageRect, maxZoom, zoomWrapper === null || zoomWrapper === void 0 ? void 0 : zoomWrapper.zoomWrapperRef);\n    useZoomCallback(zoom, disabled);\n    useZoomSensors(zoom, maxZoom, disabled, changeZoom, changeOffsets, zoomWrapper === null || zoomWrapper === void 0 ? void 0 : zoomWrapper.zoomWrapperRef);\n    const zoomRef = React.useMemo(() => ({ zoom, maxZoom, offsetX, offsetY, disabled, zoomIn, zoomOut, changeZoom }), [zoom, maxZoom, offsetX, offsetY, disabled, zoomIn, zoomOut, changeZoom]);\n    React.useImperativeHandle(useZoomProps().ref, () => zoomRef, [zoomRef]);\n    const context = React.useMemo(() => ({ ...zoomRef, setZoomWrapper }), [zoomRef, setZoomWrapper]);\n    return React.createElement(ZoomControllerContext.Provider, { value: context }, children);\n}\n\nconst ZoomInIcon = createIcon(\"ZoomIn\", React.createElement(React.Fragment, null,\n    React.createElement(\"path\", { d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\" }),\n    React.createElement(\"path\", { d: \"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z\" })));\nconst ZoomOutIcon = createIcon(\"ZoomOut\", React.createElement(\"path\", { d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z\" }));\nconst ZoomButton = React.forwardRef(function ZoomButton({ zoomIn, onLoseFocus }, ref) {\n    const wasEnabled = React.useRef(false);\n    const wasFocused = React.useRef(false);\n    const { zoom, maxZoom, zoomIn: zoomInCallback, zoomOut: zoomOutCallback, disabled: zoomDisabled } = useZoom();\n    const { render } = useLightboxProps();\n    const disabled = zoomDisabled || (zoomIn ? zoom >= maxZoom : zoom <= 1);\n    React.useEffect(() => {\n        if (disabled && wasEnabled.current && wasFocused.current) {\n            onLoseFocus();\n        }\n        if (!disabled) {\n            wasEnabled.current = true;\n        }\n    }, [disabled, onLoseFocus]);\n    return (React.createElement(IconButton, { ref: ref, disabled: disabled, label: zoomIn ? \"Zoom in\" : \"Zoom out\", icon: zoomIn ? ZoomInIcon : ZoomOutIcon, renderIcon: zoomIn ? render.iconZoomIn : render.iconZoomOut, onClick: zoomIn ? zoomInCallback : zoomOutCallback, onFocus: () => {\n            wasFocused.current = true;\n        }, onBlur: () => {\n            wasFocused.current = false;\n        } }));\n});\n\nfunction ZoomButtonsGroup() {\n    const zoomInRef = React.useRef(null);\n    const zoomOutRef = React.useRef(null);\n    const { focus } = useController();\n    const focusSibling = React.useCallback((sibling) => {\n        var _a, _b;\n        if (!((_a = sibling.current) === null || _a === void 0 ? void 0 : _a.disabled)) {\n            (_b = sibling.current) === null || _b === void 0 ? void 0 : _b.focus();\n        }\n        else {\n            focus();\n        }\n    }, [focus]);\n    const focusZoomIn = React.useCallback(() => focusSibling(zoomInRef), [focusSibling]);\n    const focusZoomOut = React.useCallback(() => focusSibling(zoomOutRef), [focusSibling]);\n    return (React.createElement(React.Fragment, null,\n        React.createElement(ZoomButton, { zoomIn: true, ref: zoomInRef, onLoseFocus: focusZoomOut }),\n        React.createElement(ZoomButton, { ref: zoomOutRef, onLoseFocus: focusZoomIn })));\n}\n\nfunction ZoomToolbarControl() {\n    const { render } = useLightboxProps();\n    const zoomRef = useZoom();\n    if (render.buttonZoom) {\n        return React.createElement(React.Fragment, null, render.buttonZoom(zoomRef));\n    }\n    return React.createElement(ZoomButtonsGroup, null);\n}\n\nfunction isResponsiveImageSlide(slide) {\n    var _a;\n    return (((_a = slide.srcSet) === null || _a === void 0 ? void 0 : _a.length) || 0) > 0;\n}\nfunction reducer({ current, preload }, { type, source }) {\n    switch (type) {\n        case \"fetch\":\n            if (!current) {\n                return { current: source };\n            }\n            return { current, preload: source };\n        case \"done\":\n            if (source === preload) {\n                return { current: source };\n            }\n            return { current, preload };\n        default:\n            throw new Error(UNKNOWN_ACTION_TYPE);\n    }\n}\nfunction ResponsiveImage(props) {\n    var _a, _b;\n    const [{ current, preload }, dispatch] = React.useReducer(reducer, {});\n    const { slide: image, rect, imageFit, render } = props;\n    const srcSet = image.srcSet.sort((a, b) => a.width - b.width);\n    const width = (_a = image.width) !== null && _a !== void 0 ? _a : srcSet[srcSet.length - 1].width;\n    const height = (_b = image.height) !== null && _b !== void 0 ? _b : srcSet[srcSet.length - 1].height;\n    const cover = isImageFitCover(image, imageFit);\n    const maxWidth = Math.max(...srcSet.map((x) => x.width));\n    const targetWidth = Math.min((cover ? Math.max : Math.min)(rect.width, width * (rect.height / height)), maxWidth);\n    const pixelDensity = devicePixelRatio();\n    const handleResize = useEventCallback(() => {\n        var _a;\n        const targetSource = (_a = srcSet.find((x) => x.width >= targetWidth * pixelDensity)) !== null && _a !== void 0 ? _a : srcSet[srcSet.length - 1];\n        if (!current || srcSet.findIndex((x) => x.src === current) < srcSet.findIndex((x) => x === targetSource)) {\n            dispatch({ type: \"fetch\", source: targetSource.src });\n        }\n    });\n    useLayoutEffect(handleResize, [rect.width, rect.height, pixelDensity, handleResize]);\n    const handlePreload = useEventCallback((currentPreload) => dispatch({ type: \"done\", source: currentPreload }));\n    const style = {\n        WebkitTransform: \"translateZ(0)\",\n    };\n    if (!cover) {\n        Object.assign(style, rect.width / rect.height < width / height ? { width: \"100%\", height: \"auto\" } : { width: \"auto\", height: \"100%\" });\n    }\n    return (React.createElement(React.Fragment, null,\n        preload && preload !== current && (React.createElement(ImageSlide, { key: \"preload\", ...props, slide: { ...image, src: preload, srcSet: undefined }, style: { position: \"absolute\", visibility: \"hidden\", ...style }, onLoad: () => handlePreload(preload), render: {\n                ...render,\n                iconLoading: () => null,\n                iconError: () => null,\n            } })),\n        current && (React.createElement(ImageSlide, { key: \"current\", ...props, slide: { ...image, src: current, srcSet: undefined }, style: style }))));\n}\n\nfunction ZoomWrapper({ render, slide, offset, rect }) {\n    var _a;\n    const [imageDimensions, setImageDimensions] = React.useState();\n    const zoomWrapperRef = React.useRef(null);\n    const { zoom, maxZoom, offsetX, offsetY, setZoomWrapper } = useZoom();\n    const { carousel, on } = useLightboxProps();\n    const { currentIndex } = useLightboxState();\n    useLayoutEffect(() => {\n        if (offset === 0) {\n            setZoomWrapper({ zoomWrapperRef, imageDimensions });\n            return () => setZoomWrapper(undefined);\n        }\n        return () => { };\n    }, [offset, imageDimensions, setZoomWrapper]);\n    let rendered = (_a = render.slide) === null || _a === void 0 ? void 0 : _a.call(render, { slide, offset, rect, zoom, maxZoom });\n    if (!rendered && isImageSlide(slide)) {\n        const slideProps = {\n            slide,\n            offset,\n            rect,\n            render,\n            imageFit: carousel.imageFit,\n            imageProps: carousel.imageProps,\n            onClick: offset === 0 ? () => { var _a; return (_a = on.click) === null || _a === void 0 ? void 0 : _a.call(on, { index: currentIndex }); } : undefined,\n        };\n        rendered = isResponsiveImageSlide(slide) ? (React.createElement(ResponsiveImage, { ...slideProps, slide: slide, rect: offset === 0 ? { width: rect.width * zoom, height: rect.height * zoom } : rect })) : (React.createElement(ImageSlide, { onLoad: (img) => setImageDimensions({ width: img.naturalWidth, height: img.naturalHeight }), ...slideProps }));\n    }\n    if (!rendered)\n        return null;\n    return (React.createElement(\"div\", { ref: zoomWrapperRef, className: clsx(cssClass(CLASS_FULLSIZE), cssClass(CLASS_FLEX_CENTER), cssClass(CLASS_SLIDE_WRAPPER)), style: offset === 0 ? { transform: `scale(${zoom}) translateX(${offsetX}px) translateY(${offsetY}px)` } : undefined }, rendered));\n}\n\nconst Zoom = ({ augment, addModule }) => {\n    augment(({ zoom: zoomProps, toolbar, render, controller, ...restProps }) => {\n        const zoom = resolveZoomProps(zoomProps);\n        return {\n            zoom,\n            toolbar: addToolbarButton(toolbar, PLUGIN_ZOOM, React.createElement(ZoomToolbarControl, null)),\n            render: {\n                ...render,\n                slide: (props) => { var _a; return isImageSlide(props.slide) ? React.createElement(ZoomWrapper, { render: render, ...props }) : (_a = render.slide) === null || _a === void 0 ? void 0 : _a.call(render, props); },\n            },\n            controller: { ...controller, preventDefaultWheelY: zoom.scrollToZoom },\n            ...restProps,\n        };\n    });\n    addModule(createModule(PLUGIN_ZOOM, ZoomContextProvider));\n};\n\nexport { Zoom as default };\n","const MODULE_CAROUSEL = \"carousel\";\nconst MODULE_CONTROLLER = \"controller\";\nconst MODULE_NAVIGATION = \"navigation\";\nconst MODULE_NO_SCROLL = \"no-scroll\";\nconst MODULE_PORTAL = \"portal\";\nconst MODULE_ROOT = \"root\";\nconst MODULE_TOOLBAR = \"toolbar\";\nconst PLUGIN_CAPTIONS = \"captions\";\nconst PLUGIN_COUNTER = \"counter\";\nconst PLUGIN_DOWNLOAD = \"download\";\nconst PLUGIN_FULLSCREEN = \"fullscreen\";\nconst PLUGIN_INLINE = \"inline\";\nconst PLUGIN_SHARE = \"share\";\nconst PLUGIN_SLIDESHOW = \"slideshow\";\nconst PLUGIN_THUMBNAILS = \"thumbnails\";\nconst PLUGIN_ZOOM = \"zoom\";\nconst SLIDE_STATUS_LOADING = \"loading\";\nconst SLIDE_STATUS_PLAYING = \"playing\";\nconst SLIDE_STATUS_ERROR = \"error\";\nconst SLIDE_STATUS_COMPLETE = \"complete\";\nconst SLIDE_STATUS_PLACEHOLDER = \"placeholder\";\nconst activeSlideStatus = (status) => `active-slide-${status}`;\nconst ACTIVE_SLIDE_LOADING = activeSlideStatus(SLIDE_STATUS_LOADING);\nconst ACTIVE_SLIDE_PLAYING = activeSlideStatus(SLIDE_STATUS_PLAYING);\nconst ACTIVE_SLIDE_ERROR = activeSlideStatus(SLIDE_STATUS_ERROR);\nconst ACTIVE_SLIDE_COMPLETE = activeSlideStatus(SLIDE_STATUS_COMPLETE);\nconst CLASS_FULLSIZE = \"fullsize\";\nconst CLASS_FLEX_CENTER = \"flex_center\";\nconst CLASS_NO_SCROLL = \"no_scroll\";\nconst CLASS_NO_SCROLL_PADDING = \"no_scroll_padding\";\nconst CLASS_SLIDE_WRAPPER = \"slide_wrapper\";\nconst ACTION_PREV = \"prev\";\nconst ACTION_NEXT = \"next\";\nconst ACTION_SWIPE = \"swipe\";\nconst ACTION_CLOSE = \"close\";\nconst EVENT_ON_POINTER_DOWN = \"onPointerDown\";\nconst EVENT_ON_POINTER_MOVE = \"onPointerMove\";\nconst EVENT_ON_POINTER_UP = \"onPointerUp\";\nconst EVENT_ON_POINTER_LEAVE = \"onPointerLeave\";\nconst EVENT_ON_POINTER_CANCEL = \"onPointerCancel\";\nconst EVENT_ON_KEY_DOWN = \"onKeyDown\";\nconst EVENT_ON_KEY_UP = \"onKeyUp\";\nconst EVENT_ON_WHEEL = \"onWheel\";\nconst VK_ESCAPE = \"Escape\";\nconst VK_ARROW_LEFT = \"ArrowLeft\";\nconst VK_ARROW_RIGHT = \"ArrowRight\";\nconst ELEMENT_BUTTON = \"button\";\nconst ELEMENT_ICON = \"icon\";\nconst IMAGE_FIT_CONTAIN = \"contain\";\nconst IMAGE_FIT_COVER = \"cover\";\nconst UNKNOWN_ACTION_TYPE = \"Unknown action type\";\n\nexport { ACTION_CLOSE, ACTION_NEXT, ACTION_PREV, ACTION_SWIPE, ACTIVE_SLIDE_COMPLETE, ACTIVE_SLIDE_ERROR, ACTIVE_SLIDE_LOADING, ACTIVE_SLIDE_PLAYING, CLASS_FLEX_CENTER, CLASS_FULLSIZE, CLASS_NO_SCROLL, CLASS_NO_SCROLL_PADDING, CLASS_SLIDE_WRAPPER, ELEMENT_BUTTON, ELEMENT_ICON, EVENT_ON_KEY_DOWN, EVENT_ON_KEY_UP, EVENT_ON_POINTER_CANCEL, EVENT_ON_POINTER_DOWN, EVENT_ON_POINTER_LEAVE, EVENT_ON_POINTER_MOVE, EVENT_ON_POINTER_UP, EVENT_ON_WHEEL, IMAGE_FIT_CONTAIN, IMAGE_FIT_COVER, MODULE_CAROUSEL, MODULE_CONTROLLER, MODULE_NAVIGATION, MODULE_NO_SCROLL, MODULE_PORTAL, MODULE_ROOT, MODULE_TOOLBAR, PLUGIN_CAPTIONS, PLUGIN_COUNTER, PLUGIN_DOWNLOAD, PLUGIN_FULLSCREEN, PLUGIN_INLINE, PLUGIN_SHARE, PLUGIN_SLIDESHOW, PLUGIN_THUMBNAILS, PLUGIN_ZOOM, SLIDE_STATUS_COMPLETE, SLIDE_STATUS_ERROR, SLIDE_STATUS_LOADING, SLIDE_STATUS_PLACEHOLDER, SLIDE_STATUS_PLAYING, UNKNOWN_ACTION_TYPE, VK_ARROW_LEFT, VK_ARROW_RIGHT, VK_ESCAPE, activeSlideStatus };\n"],"names":["ratio","_ref","width","height","round","value","decimals","arguments","length","undefined","factor","Math","Number","EPSILON","MinHeap","constructor","comparator","this","heap","n","greater","i","j","swap","temp","swim","k","k2","floor","sink","push","element","pop","max","size","findShortestPath","graph","startNode","endNode","precedentsMap","Map","visited","Set","storedShortestPaths","set","queue","rank","el","weight","a","b","id","has","neighboringNodes","add","forEach","neighborWeight","neighbor","newWeight","currentId","get","currentWeight","buildPrecedentsMap","nodes","node","reverse","getPathFromPrecedentsMap","getCommonHeight","row","containerWidth","spacing","padding","reduce","acc","photo","cost","photos","targetRowHeight","slice","commonHeight","computeRowsLayout","_ref4","layoutOptions","rowConstraints","limitNodeSearch","_ref2","min","MAX_VALUE","findIdealNodeSearch","getNeighbors","_ref3","_a","_b","results","startOffset","minPhotos","endOffset","maxPhotos","Infinity","currentCost","makeGetRowNeighbors","path","layout","map","index","_ref5","_ref6","photoIndex","photosCount","clsx","_len","classes","Array","_key","filter","cls","Boolean","join","calcWidth","base","_ref7","_ref8","gaps","cssPhotoWidth","calculateSizesValue","match","srcSetAndSizes","srcSet","sizes","images","concat","find","_ref9","src","sort","first","second","image","_ref10","viewport","ceil","PhotoRenderer","props","imageProps","style","className","restImageProps","renderPhoto","onClick","imageStyle","display","boxSizing","aspectRatio","marginBottom","cursor","handleClick","event","alt","title","loading","decoding","renderDefaultPhoto","options","unwrappedStyle","rest","React","wrapped","wrapperStyle","_ref11","defaultRenderRowContainer","_ref12","rowContainerProps","children","RowContainerRenderer","rowIndex","rowsCount","renderRowContainer","restRowContainerProps","flexDirection","flexWrap","alignItems","justifyContent","RowsLayout","componentsProps","rowsLayout","key","_ref13","findShortestPathLengthN","pathLength","matrix","reconstructShortestPath","currentQueue","keys","clear","accumulatedWeight","_ref14","paths","nextPath","computeShortestPath","buildColumnsModel","_ref16","columnsGaps","columnsRatios","columnsModel","totalRatio","total","columnRatio","column","totalAdjustedGaps","columnWidth","_ref17","computeColumnsModel","_ref18","targetColumnWidth","columns","averageRatio","from","_","targetColumnHeight","_ref15","cutOffHeight","makeGetColumnNeighbors","computeLayout","findIndex","columnModel","_ref19","computeColumnsLayout","_ref20","defaultRenderColumnContainer","_ref21","columnContainerProps","cssColumnWidth","columnIndex","columnsCount","ratio2","ColumnContainerRenderer","renderColumnContainer","restColumnContainerProps","ColumnsLayout","columnsLayout","_ref22","computeMasonryLayout","columnsCurrentTopPositions","model","shortestColumn","currentShortestColumn","item","_ref23","MasonryLayout","masonryLayout","_ref24","defaultRenderContainer","_ref25","containerProps","containerRef","ref","ContainerRenderer","renderContainer","restContainerProps","containerWidthReducer","state","_ref26","newContainerWidth","newScrollbarWidth","scrollbarWidth","resolveContainerWidth","breakpoints2","clientWidth","sorted","x","threshold","breakpoint","breakpoints","Object","freeze","unwrap","arg","unwrapParameter","selectResponsiveValue","values","resolveResponsiveParameter","parameter","minValue","PhotoAlbum","defaultContainerWidth","dispatch","observerRef","current","disconnect","updateWidth","window","innerWidth","document","documentElement","ResizeObserver","observe","useContainerWidth","array","useArray","includes","isArray","_ref27","w","resolveLayoutOptions","componentsPropsProp","singleRowMaxHeight","maxWidth","_ref28","resolveComponentsProps","commonLayoutProps","renderLayout","cssClass","name","cssVar","composePrefix","prefix","makeComposePrefix","label","labels","defaultLabel","cleanup","_len2","cleaners","_key2","cleaner","makeUseContext","contextName","context","ctx","Error","hasWindow","isImageSlide","slide","type","isImageFitCover","imageFit","IMAGE_FIT_COVER","IMAGE_FIT_CONTAIN","parseInt","parseLengthPercentage","input","pixel","endsWith","percent","computeSlideRect","containerRect","paddingValue","paddingPixels","devicePixelRatio","getSlideIndex","slidesCount","hasSlides","slides","getSlide","getSlideIfPresent","getSlideKey","addToolbarButton","toolbar","button","buttons","restToolbar","buttonWithKey","result","splice","calculatePreload","carousel","minimum","preload","finite","LightboxDefaultProps","open","close","render","plugins","ACTION_CLOSE","animation","fade","swipe","easing","navigation","controller","focus","aria","touchAction","closeOnPullUp","closeOnPullDown","closeOnBackdropClick","preventDefaultWheelX","preventDefaultWheelY","portal","noScroll","disabled","on","styles","createModule","component","createNode","module","traverseNode","target","apply","flatMap","traverse","EventsContext","useEvents","EventsProvider","subscriptions","topic","unsubscribe","callback","cb","publish","_len3","_key3","subscribe","Provider","LightboxPropsContext","useLightboxProps","LightboxPropsProvider","LightboxStateContext","useLightboxState","LightboxDispatchContext","useLightboxDispatch","reducer","action","increment","globalIndex","currentIndex","currentSlide","duration","UNKNOWN_ACTION_TYPE","LightboxStateProvider","TimeoutsContext","useTimeouts","TimeoutsProvider","timeouts","tid","clearTimeout","removeTimeout","setTimeout","fn","delay","IconButton","label$1","icon","Icon","renderIcon","ELEMENT_BUTTON","ELEMENT_ICON","svgIcon","xmlns","viewBox","focusable","displayName","createIcon","glyph","fill","d","createIconDisabled","stroke","strokeWidth","mask","CloseIcon","PreviousIcon","NextIcon","LoadingIcon","x1","y1","x2","y2","strokeLinecap","strokeOpacity","transform","ErrorIcon","useLayoutEffect","useMotionPreference","reduceMotion","setReduceMotion","mediaQuery","matchMedia","call","matches","listener","addEventListener","removeEventListener","useAnimation","nodeRef","computeAnimation","snapshot","_c","keyframes","onfinish","getBoundingClientRect","y","z","matcher","getComputedStyle","split","currentTransformation","cancel","animate","err","console","error","prepareAnimation","currentSnapshot","isAnimationPlaying","playState","useContainerRect","setContainerRect","setContainerRef","updateContainerRect","parse","parseFloat","paddingLeft","paddingRight","clientHeight","paddingTop","paddingBottom","useDelay","timeoutId","useEventCallback","_len4","args","_key4","setRef","useForkRef","refA","refB","refValue","useLoseFocus","focused","onFocus","onBlur","useRTL","isRTL","setIsRTL","direction","useSensors","subscribers","notifySubscribers","isPropagationStopped","registerSensors","onPointerDown","EVENT_ON_POINTER_DOWN","onPointerMove","EVENT_ON_POINTER_MOVE","onPointerUp","EVENT_ON_POINTER_UP","onPointerLeave","EVENT_ON_POINTER_LEAVE","onPointerCancel","EVENT_ON_POINTER_CANCEL","onKeyDown","EVENT_ON_KEY_DOWN","onKeyUp","EVENT_ON_KEY_UP","onWheel","EVENT_ON_WHEEL","subscribeSensors","unshift","listeners","useThrottle","lastCallbackTime","delayCallback","executeCallback","Date","now","_len5","_key5","_len6","_key6","slidePrefix","slideImagePrefix","ImageSlide","offset","rect","onLoad","_d","_e","_f","_g","status","setStatus","SLIDE_STATUS_LOADING","imageRef","activeSlideStatus","handleLoading","img","decode","Promise","resolve","catch","then","parentNode","SLIDE_STATUS_COMPLETE","setImageRef","complete","handleOnLoad","currentTarget","onError","SLIDE_STATUS_ERROR","cover","nonInfinite","fallback","isFinite","naturalWidth","maxHeight","naturalHeight","defaultStyle","imagePropsStyle","imagePropsClassName","draggable","SLIDE_STATUS_PLACEHOLDER","iconLoading","iconError","SwipeState","Gesture","usePointerEvents","cssContainerPrefix","ControllerContext","useController","ControllerModule","MODULE_CONTROLLER","toolbarWidth","setToolbarWidth","swipeState","setSwipeState","NONE","swipeOffset","pullOffset","pullOpacity","cleanupAnimationIncrement","cleanupSwipeOffset","cleanupPullOffset","handleContainerRef","horizontal","abs","deltaX","deltaY","ctrlKey","preventDefault","passive","usePreventWheelDefaults","carouselRef","setCarouselRef","rtl","getLightboxProps","getLightboxState","prev","params","ACTION_PREV","next","ACTION_NEXT","isSwipeValid","setSwipeOffset","setProperty","setPullOffset","offsetValue","preparePullAnimation","translate","opacity","pull","ANIMATION","parsedSpacing","spacingValue","currentSwipeOffset","swipeDuration","swipeEasing","count","newSwipeState","newSwipeAnimationDuration","elapsedTime","expectedTime","ACTION_SWIPE","swipeParams","SWIPE","pullParams","PULL","swipeAnimationDuration","onSwipeStart","onSwipeProgress","onSwipeFinish","onSwipeCancel","pullUpEnabled","pullDownEnabled","onPullStart","onPullProgress","onPullFinish","onPullCancel","pointers","activePointer","startTime","gesture","clearPointer","pointerId","currentPointers","p","addPointer","persist","exceedsPullThreshold","currentOffset","pointer","isCurrentPointer","clientX","clientY","startGesture","newGesture","usePointerSwipe","intent","intentCleanup","resetCleanup","wheelResidualMomentum","cancelSwipeIntentCleanup","cancelSwipeResetCleanup","handleCleanup","handleCancelSwipe","currentSwipeIntent","newSwipeOffset","sign","useWheelSwipe","focusOnMount","querySelector","MODULE_PORTAL","onViewCallback","view","slideRect","CLASS_FLEX_CENTER","container","role","tabIndex","controls","cssPrefix$2","MODULE_CAROUSEL","cssSlidePrefix","CarouselSlide","click","HTMLElement","classList","contains","CLASS_SLIDE_WRAPPER","renderSlide","rendered","slideHeader","slideContainer","slideFooter","Placeholder","CarouselModule","items","placeholder","useNavigationState","prevDisabled","nextDisabled","useKeyboardNavigation","throttle","handleKeyDown","VK_ESCAPE","VK_ARROW_LEFT","VK_ARROW_RIGHT","NavigationButton","NavigationModule","MODULE_NAVIGATION","buttonPrev","buttonNext","iconPrev","iconNext","navigationPrev","navigationNext","CLASS_NO_SCROLL","noScrollPadding","CLASS_NO_SCROLL_PADDING","isHTMLElement","padScrollbar","property","computedValue","originalValue","getPropertyValue","removeProperty","NoScrollModule","MODULE_NO_SCROLL","body","scrollbar","elements","getElementsByTagName","remove","clean","cssPrefix$1","setAttribute","attribute","previousValue","getAttribute","removeAttribute","PortalModule","mounted","setMounted","visible","setVisible","restoreFocus","animationDuration","handleClose","exiting","exited","handleEnter","scrollTop","entering","indexOf","tagName","entered","handleRef","createPortal","root","relatedTarget","RootModule","MODULE_ROOT","ToolbarModule","MODULE_TOOLBAR","buttonClose","iconClose","renderNode","child","mergeAnimation","defaultAnimation","defaultAnimationEasing","restDefaultAnimation","restAnimation","Lightbox","restProps","defaultCarousel","defaultRender","defaultToolbar","defaultController","defaultNoScroll","defaultOn","defaultSlides","defaultIndex","defaultPlugins","restDefaultProps","config","augmentation","augmentations","addParent","append","addChild","precede","addSibling","addModule","replace","augment","plugin","withPlugins","defaultSlideshowProps","autoplay","resolveSlideshowProps","slideshow","SlideshowContext","useSlideshow","SlideshowContextProvider","wasPlaying","playing","setPlaying","scheduler","slideStatus","play","pause","cancelScheduler","scheduleNextSlide","SLIDE_STATUS_PLAYING","onSlideshowStart","slideshowStart","onSlideshowStop","slideshowStop","ACTIVE_SLIDE_LOADING","ACTIVE_SLIDE_PLAYING","ACTIVE_SLIDE_ERROR","ACTIVE_SLIDE_COMPLETE","PlayIcon","PauseIcon","SlideshowButton","focusListeners","buttonSlideshow","iconSlideshowPause","iconSlideshowPlay","Slideshow","PLUGIN_SLIDESHOW","defaultThumbnailsProps","position","border","borderRadius","gap","vignette","resolveThumbnailsProps","thumbnails","useThumbnailsProps","cssPrefix","PLUGIN_THUMBNAILS","cssThumbnailPrefix","VideoThumbnailIcon","UnknownThumbnailIcon","activePrefix","fadeInPrefix","fadeOutPrefix","placeholderPrefix","DELAY","DURATION","Thumbnail","active","fadeIn","fadeOut","onLoseFocus","onLoseFocusCallback","activeElement","thumbnail","customThumbnail","thumbnailIconClass","poster","renderThumbnail","isHorizontal","boxSize","dimension","ThumbnailsTrack","track","borderStyle","borderColor","handleControllerSwipe","animationOffset","trackRect","left","top","thumbnailsContainer","thumbnailsTrack","fadeAnimationDuration","slideIndex","ThumbnailsContext","useThumbnails","ThumbnailsContextProvider","show","hide","thumbnailsIcon","strokeLinejoin","ThumbnailsVisible","ThumbnailsHidden","ThumbnailsButton","buttonThumbnails","iconThumbnailsVisible","iconThumbnailsHidden","Thumbnails","thumbnailsProps","showToggle","PLUGIN_FULLSCREEN","defaultZoomProps","maxZoomPixelRatio","zoomInMultiplier","doubleTapDelay","doubleClickDelay","doubleClickMaxStops","keyboardMoveDistance","wheelZoomDistanceFactor","pinchZoomDistanceFactor","scrollToZoom","resolveZoomProps","zoom","useZoomProps","distance","pointerA","pointerB","useZoomState","imageRect","maxZoom","zoomWrapperRef","setZoom","offsetX","setOffsetX","offsetY","setOffsetY","zoomAnimation","zoomAnimationStart","zoomAnimationDuration","playZoomAnimation","useZoomAnimation","currentSource","changeOffsets","dx","dy","targetZoom","newZoom","newOffsetX","newOffsetY","maxOffsetX","maxOffsetY","changeZoom","rapid","handleControllerRectChange","zoomIn","zoomOut","ZoomControllerContext","useZoom","ZoomContextProvider","zoomWrapper","setZoomWrapper","imageDimensions","maxImageRect","useZoomImageRect","onZoomCallback","useZoomCallback","activePointers","lastPointerDown","pinchZoomDistance","translateCoordinates","pageX","pageY","scrollX","scrollY","stopPropagation","move","handleChangeZoom","zoomValue","hasMeta","getModifierState","replacePointer","timeStamp","pointerType","currentDistance","delta","coordinate","cleanupSensors","useZoomSensors","zoomRef","ZoomInIcon","ZoomOutIcon","ZoomButton","wasEnabled","wasFocused","zoomInCallback","zoomOutCallback","zoomDisabled","iconZoomIn","iconZoomOut","ZoomButtonsGroup","zoomInRef","zoomOutRef","focusSibling","sibling","focusZoomIn","focusZoomOut","ZoomToolbarControl","buttonZoom","source","ResponsiveImage","targetWidth","pixelDensity","handleResize","targetSource","handlePreload","currentPreload","WebkitTransform","assign","visibility","ZoomWrapper","setImageDimensions","slideProps","isResponsiveImageSlide","CLASS_FULLSIZE","Zoom","zoomProps","PLUGIN_ZOOM"],"sourceRoot":""}